@model List<MasterOnline.Models.FormMos>
@{
    ViewBag.Title = "Forms";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <ul>
            @{
                var listAnak = Model.OrderBy(m => m.NamaForm).Where(m => m.ParentId != 0);
                var listChild = listAnak.ToList();
            }
            @foreach (var parent in Model.Where(m => m.ParentId == 0))
            {
                <li>
                    <span class="fa @parent.Icon"></span> <b>@parent.NamaForm</b>
                    <a href="@Url.Action("ShowToggle", "Admin", new { formId = parent.ScrId })">
                        <span class="fa @(!parent.Show ? "fa-eye-slash" : "fa-eye")" ></span>
                    </a>
                    <ul>
                        @foreach (var child in listChild)
                        {
                            if (child.ParentId == parent.ScrId)
                            {
                                <li>
                                    @child.NamaForm
                                    <a href="@Url.Action("ShowToggle", "Admin", new { formId = child.ScrId })">
                                        <span class="fa @(!child.Show ? "fa-eye-slash" : "fa-eye")"></span>
                                    </a>
                                </li>
                            }
                        }
                    </ul>
                </li>
            }
        </ul>
    </div>
</div>