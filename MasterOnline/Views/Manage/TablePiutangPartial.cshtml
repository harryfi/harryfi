@using System.Globalization
@model MasterOnline.ViewModels.SaPiutangViewModel
<table id="datatable" class="table table-striped table-bordered dataTable" role="grid" aria-describedby="datatable_info">
    <thead>
        <tr role="row">
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 85px;">No. Bukti</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 85px;">Tanggal</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 85px;">Customer</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 85px;">Tgl. Jatuh Tempo</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 85px;">Nilai</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 60px;">Posting</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 40px; max-width: 40px;">Edit</th>
            <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" style="width: 40px; max-width: 40px;">Hapus</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var piutang in Model.ListPiutang)
        {
            <tr>
                <td>@piutang.FAKTUR</td>
                <td>@(piutang.TGL?.ToString("dd/MM/yyyy"))</td>
                <td>@piutang.NCUST (@piutang.CUST)</td>
                <td>@(piutang.JTGL?.ToString("dd/MM/yyyy"))</td>
                <td style = "text-align:right">@String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", piutang.TOTAL)</td>
                @if (Convert.ToString(piutang.POST) == "Y")
                {
                    <td>
                        Sudah
                    </td>
                }
                else
                {
                    <td>
                        Belum
                    </td>
                }
                <td class="edit-hapus-col">
                    @if (Convert.ToString(piutang.POST) == "Y")
                    {
                        <button class="btn btn-primary" onclick="lihatPiutang(@piutang.RecNum)">
                            <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                        </button>
                    }
                    else
                    {
                        <button class="btn btn-primary" onclick="editPiutang('@piutang.RecNum')">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </button>
                    }
                </td>
                <td class="edit-hapus-col">
                    @if (Convert.ToString(piutang.POST) == "Y")
                    {
                        <button class="btn btn-danger" onclick="undeleteablePiutang()">
                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                        </button>
                    }
                    else
                    {
                        <button class="btn btn-danger" data-toggle="modal" data-target="#konfHapusPiutang" onclick="pass('@piutang.RecNum')">
                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                        </button>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>
