@using System.Globalization
@using MasterOnline.ViewModels
@model MasterOnline.ViewModels.BarangStrukturVarViewModel
@{
//var dataSession = Session["SessionInfo"] as AccountUserViewModel;
//var username = "";
//var context = new MoDbContext();
//if (dataSession?.User != null)
//{
//    var accId = context.User.Single(u => u.Email == dataSession.User.Email).AccountId;
//    username = context.Account.Single(a => a.AccountId == accId).Username;
//}
//else
//{
//    username = dataSession?.Account.Username;
//}
}
@Html.AntiForgeryToken()
    <script type="text/javascript">
    $(document).ready(function () {
        if ($('#Stf02_ID').val() == "") {
            $('#Stf02_ID').val($('#txtStf02ID').val());
        }

        //$('.cbxtype').each(function () {
        //    var $this = $(this);
        //    var $cbxTarget = $('.cbxtype[data-cbx="cbx-type"]');
        //    if ($cbxTarget.val() == null || $cbxTarget.val() == '' || $cbxTarget.val() == '3') {
        //        $('#simpan_btn').show();
        //        $('#next_btn').hide();
        //        $('#div_info_harga_variant').hide();

        //        $('.detail_mp_blibli_gambar').each(function () {
        //            var $this = $(this);
        //            $this.show();
        //        });
        //    } else {
        //        $('#simpan_btn').hide();
        //        $('#next_btn').show();
        //        $('#div_info_harga_variant').show();

        //        $('.detail_mp_blibli_gambar').each(function () {
        //            var $this = $(this);
        //            $this.hide();
        //        });
        //    }
        //});

        getOptSelectMultiple(1);
        getOptSelectMultiple(2);
        getOptSelectMultiple(3);
        InitSettingVariantShopee();
        InitSettingVariantTokped();
        InitSettingVariantBlibli();
        InitSettingVariantLazada();
        InitSettingVariantElevenia();
        InitSettingVariantJdid();
        InitSettingVariant82Cart();
        InitSettingVariantshopify();

        $('#variant-tabs a:first').tab('show');
        $('#variant-tabs a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            var target = $(e.target).attr("href");
            if ((target == '#shopee_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategoriShopee').val($(fieldCategoryCode).val());
                $('#txtNamaKategoriShopee').val($(fieldCategoryName).val());
            }
            if ((target == '#e2cart_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategori82Cart').val($(fieldCategoryCode).val());
                $('#txtNamaKategori82Cart').val($(fieldCategoryName).val());
            }
            if ((target == '#shopify_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategorishopify').val($(fieldCategoryCode).val());
                $('#txtNamaKategorishopify').val($(fieldCategoryName).val());
            }
            if ((target == '#tokped_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategoriTokped').val($(fieldCategoryCode).val());
                $('#txtNamaKategoriTokped').val($(fieldCategoryName).val());
            }
            if ((target == '#blibli_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategoriBlibli').val($(fieldCategoryCode).val());
                $('#txtNamaKategoriBlibli').val($(fieldCategoryName).val());
            }
            if ((target == '#lazada_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategoriLazada').val($(fieldCategoryCode).val());
                $('#txtNamaKategoriLazada').val($(fieldCategoryName).val());
            }
            if ((target == '#jdid_detail_tab_variant')) {
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
                var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_NAME';
                $('#txtKodeKategoriJdid').val($(fieldCategoryCode).val());
                $('#txtNamaKategoriJdid').val($(fieldCategoryName).val());
            }
        });
    });
    function InitSettingVariantShopee() {
        if ($('#txtShopeeCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategoriShopee').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategoriShopee').val($(fieldCategoryName).val());
            });

            $('.txtJudulVariantShopeeLv').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopee').removeAttr('disabled');
                });
            });
            $('.txtVariantShopeeLv1_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopee').removeAttr('disabled');
                });
            });
            $('.txtVariantShopeeLv2_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopee').removeAttr('disabled');
                });
            });
            $('.txtVariantShopeeLv3_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopee').removeAttr('disabled');
                });
            });
        }
        else {
            $('#shopee_detail_tab_variant_button').remove();
        }
    }

    function InitSettingVariant82Cart() {
        if ($('#txt82CartCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategori82Cart').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategori82Cart').val($(fieldCategoryName).val());
            });

            if ($('#selectJudulVariant82CartLv1').length > 0 || $('#selectJudulVariant82CartLv2').length > 0 || $('#selectJudulVariant82CartLv3').length > 0) {
                var link = '@Url.Action("GetAttribute82CartByCode_varian_group", "Manage", new { code = "replaceCode" })';
                link = link.replace("replaceCode", encodeURIComponent($(fieldCategoryCode).val() + ';' + $('#txt82CartMarketRecnumFound').val()));
                $.ajax({
                    type: "GET",
                    url: link,
                    contentType: 'application/json',
                    cache: false,
                    success: function (data) {
                        var SelectList = [];
                        var counter = 0;
                        $.each(data,
                            function (i, item) {
                                for (var a = 0; a < data.length; a++) {
                                    //var VARIANT_ID = item["VARIANT_ID_" + (a + 1)];
                                    //var HAS_UNIT = item["HAS_UNIT_" + (a + 1)];
                                    //var ANAME = item["ANAME_" + (a + 1)];
                                    //var VARIANT_ID = item["id_attribute_group"][i];
                                    //var HAS_UNIT = item["attribute"][i];
                                    //var ANAME = item["group_name"][i];
                                    var VARIANT_ID = item.id_attribute_group;
                                    var HAS_UNIT = item.attribute.length;
                                    var ANAME = item.group_name;

                                    if (VARIANT_ID != null && VARIANT_ID != "") {
                                        //if (HAS_UNIT > 0) {
                                            //$.each(data.attribute,
                                            //    function (j, item_unit) {
                                                    //for (var b = 0; b < data.attribute.length; b++) {
                                                        //if (item_unit["id_attribute_group"] == VARIANT_ID) {
                                                        //SelectList[counter] = {
                                                            //id: VARIANT_ID + '|;|' + item_unit["id_attribute"],
                                                            //text: ANAME + ' ' + item_unit["attribute_name"]
                                                            //id: VARIANT_ID + '|;|' + "0",
                                                            //text: ANAME
                                                        //};

                                                        //counter = counter + 1;
                                                        //}
                                                    //}
                                                //});
                                        //}
                                        //else {
                                            SelectList[counter] = {
                                                id: VARIANT_ID + '|;|' + HAS_UNIT,
                                                text: ANAME
                                            };
                                            counter = counter + 1;
                                        //}
                                    }
                                }
                            });
                        var len = SelectList.length;

                        if ($('#selectJudulVariant82CartLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariant82CartLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariant82CartLv1').val(values[0]);
                                    SearchOptVariant82Cart(1, values[0]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariant82CartLv1').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariant82CartLv1').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariant82CartLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariant82CartLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariant82CartLv2').val(values[0]);
                                    SearchOptVariant82Cart(2, values[0]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariant82CartLv2').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariant82CartLv2').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariant82CartLv3').length > 0) {
                            var attributeSelect = $('#selectJudulVariant82CartLv3').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariant82CartLv3').val(values[0]);
                                    SearchOptVariant82Cart(3, values[0]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariant82CartLv3').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariant82CartLv3').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
        }
        else {
            $('#e2cart_detail_tab_variant_button').remove();
        }
    }

        function SearchOptVariant82Cart(level, variant_id) {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';

        var link = '@Url.Action("GetAttribute82CartByCode_varian_item", "Manage", new { code = "replaceCode" })';
        link = link.replace("replaceCode", encodeURIComponent(variant_id + ';' + $(fieldCategoryCode).val() + ';' + $('#txt82CartMarketRecnumFound').val()));
        $.ajax({
            type: "GET",
            url: link,
            contentType: 'application/json',
            cache: false,
            success: function (data) {
                var SelectList = [];
                $.each(data,
                    function (i, item) {
                        SelectList[i] = {
                            id: item.id_attribute,
                            text: item.attribute_name
                        };
                    });

                $(".selectVariant82CartLv" + level + "_").each(function (i, item) {
                    //var data_recnum = $(item).attr("data-recnum");
                    var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                    var len = SelectList.length;

                    var attributeOptSelect = $(item).selectize({
                        maxItems: 1,
                        valueField: 'id',
                        searchField: 'text',
                        options: SelectList,
                        onChange: function (value) {
                            $('#save_map_var_82Cart').removeAttr('disabled');
                            var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                            $('#txtVariant82CartLv' + level + '_' + input_data_recnum).val(value);
                        }
                    });

                    attributeOptSelect[0].selectize.clearOptions();
                    attributeOptSelect[0].selectize.renderCache = {};
                    attributeOptSelect[0].selectize.load(function (callback) {
                        callback(SelectList);

                        if ($('#txtVariant82CartLv' + level + '_' + data_recnum).val() != "") {
                            var FoundValue = "";
                            for (var d = 0; d < len; d++) {
                                if (FoundValue == "") {
                                    var value = SelectList[d].id;
                                    if ($('#txtVariant82CartLv' + level + '_' + data_recnum).val() == value) {
                                        FoundValue = SelectList[d].id;
                                        attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_82Cart enable
                                    }
                                }
                            }
                        }
                    });
                });
            },
            error: function (xhr) {
                console.log(xhr);
            }
        });
    }

    function InitSettingVariantshopify() {
        if ($('#txtshopifyCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategorishopify').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategorishopify').val($(fieldCategoryName).val());
            });

            $('.txtJudulVariantshopifyLv').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopify').removeAttr('disabled');
                });
            });
            $('.txtVariantshopifyLv1_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopify').removeAttr('disabled');
                });
            });
            $('.txtVariantshopifyLv2_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopify').removeAttr('disabled');
                });
            });
            $('.txtVariantshopifyLv3_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_shopify').removeAttr('disabled');
                });
            });
        }
        else {
            $('#shopify_detail_tab_variant_button').remove();
        }
    }

    function InitSettingVariantTokped() {
        if ($('#txtTokpedCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategoriTokped').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategoriTokped').val($(fieldCategoryName).val());
            });

            if ($('#selectJudulVariantTokpedLv1').length > 0 || $('#selectJudulVariantTokpedLv2').length > 0 || $('#selectJudulVariantTokpedLv3').length > 0) {
                var link = '@Url.Action("GetAttributeTokped", "Manage", new { code = "replaceCode" })';
                link = link.replace("replaceCode", encodeURIComponent($(fieldCategoryCode).val() + ';' + $('#txtTokpedMarketRecnumFound').val()));
                $.ajax({
                    type: "GET",
                    url: link,
                    contentType: 'application/json',
                    cache: false,
                    success: function (data) {
                        var SelectList = [];
                        var counter = 0;
                        $.each(data.attribute,
                            function (i, item) {
                                for (var a = 0; a < 30; a++) {
                                    var VARIANT_ID = item["VARIANT_ID_" + (a + 1)];
                                    var HAS_UNIT = item["HAS_UNIT_" + (a + 1)];
                                    var ANAME = item["ANAME_" + (a + 1)];

                                    if (VARIANT_ID != null && VARIANT_ID != "") {
                                        if (HAS_UNIT > 0) {
                                            $.each(data.attribute_unit,
                                                function (j, item_unit) {
                                                    if (item_unit["VARIANT_ID"] == VARIANT_ID) {
                                                        SelectList[counter] = {
                                                            id: VARIANT_ID + '|;|' + item_unit["UNIT_ID"],
                                                            text: ANAME + ' ' + item_unit["UNIT_NAME"]
                                                        };

                                                        counter = counter + 1;
                                                    }
                                                });
                                        }
                                        else {
                                            SelectList[counter] = {
                                                id: VARIANT_ID + '|;|' + HAS_UNIT,
                                                text: ANAME
                                            };
                                            counter = counter + 1;
                                        }
                                    }
                                }
                            });
                        var len = SelectList.length;

                        if ($('#selectJudulVariantTokpedLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariantTokpedLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariantTokpedLv1').val(values[0]);
                                    SearchOptVariantTokped(1, values[0], values[1]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantTokpedLv1').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariantTokpedLv1').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantTokpedLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariantTokpedLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariantTokpedLv2').val(values[0]);
                                    SearchOptVariantTokped(2, values[0], values[1]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantTokpedLv2').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariantTokpedLv2').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantTokpedLv3').length > 0) {
                            var attributeSelect = $('#selectJudulVariantTokpedLv3').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    var values = value.split('|;|');
                                    $('#txtJudulVariantTokpedLv3').val(values[0]);
                                    SearchOptVariantTokped(3, values[0], values[1]);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantTokpedLv3').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            var values = value.split('|;|');
                                            if ($('#txtJudulVariantTokpedLv3').val() == values[0]) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
        }
        else {
            $('#tokped_detail_tab_variant_button').remove();
        }
    }
    function SearchOptVariantTokped(level, variant_id, unit_id) {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';

        //var link = '@Url.Action("GetAttributeOptTokped", "Manage", new { code = "replaceCode" })';
        var link = '@Url.Action("GetAttributeOptTokpedWithMoOpt", "Manage", new { code = "replaceCode" })';
        link = link.replace("replaceCode", encodeURIComponent(variant_id + ';' + unit_id + ';' + $(fieldCategoryCode).val() + ';' + $('#txtTokpedMarketRecnumFound').val()));
        //link = link.replace("replaceLevel", encodeURIComponent(level));
        //link = link.replace("replaceBrg", encodeURIComponent($('#txtInfoKodeBarang').val()));
        link += "&level=" + encodeURIComponent(level);
        link += "&brg=" + encodeURIComponent($('#txtInfoKodeBarang').val());
        $.ajax({
            type: "GET",
            url: link,
            contentType: 'application/json',
            cache: false,
            success: function (data) {
                var SelectList = [];
                $.each(data,
                    function (i, item) {
                        SelectList[i] = {
                            id: item.VALUE_ID,
                            text: item.VALUE
                        };
                    });

                $(".selectVariantTokpedLv" + level + "_").each(function (i, item) {
                    //var data_recnum = $(item).attr("data-recnum");
                    var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                    var len = SelectList.length;

                    var attributeOptSelect = $(item).selectize({
                        maxItems: 1,
                        valueField: 'id',
                        searchField: 'text',
                        options: SelectList,
                        onChange: function (value) {
                            $('#save_map_var_tokped').removeAttr('disabled');
                            var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                            $('#txtVariantTokpedLv' + level + '_' + input_data_recnum).val(value);
                        }
                    });

                    attributeOptSelect[0].selectize.clearOptions();
                    attributeOptSelect[0].selectize.renderCache = {};
                    attributeOptSelect[0].selectize.load(function (callback) {
                        callback(SelectList);

                        if ($('#txtVariantTokpedLv' + level + '_' + data_recnum).val() != "") {
                            var FoundValue = "";
                            for (var d = 0; d < len; d++) {
                                if (FoundValue == "") {
                                    var value = SelectList[d].id;
                                    if ($('#txtVariantTokpedLv' + level + '_' + data_recnum).val() == value) {
                                        FoundValue = SelectList[d].id;
                                        attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_tokped enable
                                    }
                                }
                            }
                        }
                    });
                });
            },
            error: function (xhr) {
                console.log(xhr);
            }
        });
    }

    function ComboBoxColorFamilyBliBli(level, show) {
        if (show) {
            $('#namaOpsiBlibli_mo_' + level).css('width', '33%');
            $('#namaOpsiBlibli_b_' + level).css('width', '33%');
            $('#namaOpsiBlibli_fc_' + level).show();
            $('#namaOpsiBlibli_' + level).attr('colspan', '3');
            //$(".selectVariantBlibliFCLv" + level + "_").show();
            $('.td_opsiFC_' + level).show();
            //if ($('#selectJudulVariantBlibliFCLv' + level).val() == "") {
            //    var attributeOptSelect = $('#selectJudulVariantBlibliFCLv' + level).selectize;
            //    attributeOptSelect[0].selectize.setValue("FA-2000060", true);

            //    //$('#selectJudulVariantBlibliFCLv' + level).val("FA-2000060");
            //}
        } else {
            $('#namaOpsiBlibli_mo_' + level).css('width', '50%');
            $('#namaOpsiBlibli_b_' + level).css('width', '50%');
            $('#namaOpsiBlibli_fc_' + level).hide();
            $('#namaOpsiBlibli_1' + level).attr('colspan', '2');
            //$(".selectVariantBlibliFCLv" + level + "_").hide();
            $('.td_opsiFC_' + level).hide();

             $(".selectVariantBlibliFCLv" + level + "_").each(function (i, item) {
                 var attributeOptSelect = $(item).selectize;
                 if (attributeOptSelect[0] != undefined) {
                     attributeOptSelect[0].selectize.clear();
                 }
            //     //attributeOptSelect[0].val('');
            //     attributeOptSelect[0].selectize.setValue("", false);
                 SearchOptVariantBlibli(level, "FA-2000060", fcOpt)
            });
            //$(".selectVariantBlibliFCLv" + level + "_").find('option').attr("selected", false);
            //var attributeOptSelect = $('#selectJudulVariantBlibliFCLv' + level).selectize;
            //attributeOptSelect[0].selectize.setValue("", true);
            //$('#selectJudulVariantBlibliFCLv' + level).val("");
        }
        //$(".selectVariantBlibliFCLv" + level + "_").each(function (i, item) {
        //    var attributeOptSelect = $(item).selectize;
        //    attributeOptSelect[0].selectize.clearOptions();
        //});
    }
        var fcOpt;
    function InitSettingVariantBlibli() {
        if ($('#txtBlibliCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategoriBlibli').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategoriBlibli').val($(fieldCategoryName).val());
            });

            if ($('#selectJudulVariantBlibliLv1').length > 0 || $('#selectJudulVariantBlibliLv2').length > 0 || $('#selectJudulVariantBlibliLv3').length > 0) {
                var link = '@Url.Action("GetAttributeBlibliVar", "Manage", new { code = "replaceCode" })';
                link = link.replace("replaceCode", encodeURIComponent($(fieldCategoryCode).val() + ';' + $('#txtBlibliMarketRecnumFound').val()));
                $.ajax({
                    type: "GET",
                    url: link,
                    contentType: 'application/json',
                    cache: false,
                    success: function (data) {
                        var SelectList = [];
                        var SelectListFC = [];
                        var counter = 0;
                        $.each(data.attributes,
                            function (i, item) {
                                for (var a = 0; a < 35; a++) {
                                    var ACODE = item["ACODE_" + (a + 1)];
                                    var ATYPE = item["ATYPE_" + (a + 1)];
                                    var ANAME = item["ANAME_" + (a + 1)];
                                    var AOPTIONS = item["AOPTIONS_" + (a + 1)];
                                    var AVARCREATE = item["AVARCREATE_" + (a + 1)];
                                    //if (ATYPE == "DEFINING_ATTRIBUTE") {
                                    if ((ATYPE == "DEFINING_ATTRIBUTE" && ACODE != "FA-2000060") || AVARCREATE == "1") {
                                        if (ACODE != null && ACODE != "") {
                                            SelectList[counter] = {
                                                id: ACODE,
                                                text: ANAME
                                            };
                                            counter = counter + 1;
                                        }
                                    }
                                    else if (ACODE != null && ACODE != "") {
                                        if (ACODE == "FA-2000060") {
                                            if (ACODE != null && ACODE != "") {
                                                SelectListFC[0] = {
                                                    id: ACODE,
                                                    text: ANAME
                                                };
                                            }
                                        }
                                    }
                                }
                            });
                        fcOpt = data.attribute_opt;
                        var len = SelectList.length;
                        if ($('#selectJudulVariantBlibliLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariantBlibliLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    if ($('#txtJudulVariantBlibliLv1').val() != '' && $('#txtJudulVariantBlibliLv1').val() != value) {
                                        $('.txtVariantBlibliLv1_').val('');
                                    }
                                    $('#txtJudulVariantBlibliLv1').val(value);
                                    SearchOptVariantBlibli(1, value, data.attribute_opt);
                                    if (value.includes("WA-")) {//warna
                                        ComboBoxColorFamilyBliBli(1, true);
                                    } else {
                                        ComboBoxColorFamilyBliBli(1, false);
                                    }
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantBlibliLv1').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantBlibliLv1').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                        if ($('#selectJudulVariantBlibliLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariantBlibliLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    if ($('#txtJudulVariantBlibliLv2').val() != '' && $('#txtJudulVariantBlibliLv2').val() != value) {
                                        $('.txtVariantBlibliLv2_').val('');
                                    }
                                    $('#txtJudulVariantBlibliLv2').val(value);
                                    SearchOptVariantBlibli(2, value, data.attribute_opt);
                                    if (value.includes("WA-")) {//warna
                                        ComboBoxColorFamilyBliBli(2, true);
                                    } else {
                                        ComboBoxColorFamilyBliBli(2, false);
                                    }
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantBlibliLv2').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantBlibliLv2').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantBlibliLv3').length > 0) {
                            var attributeSelect = $('#selectJudulVariantBlibliLv3').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantBlibliLv3').val(value);
                                    SearchOptVariantBlibli(3, value, data.attribute_opt);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantBlibliLv3').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantBlibliLv3').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantBlibliFCLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariantBlibliFCLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectListFC,
                                onChange: function (value) {
                                    $('#selectJudulVariantBlibliFCLv1').val(value);
                                    SearchOptVariantBlibli(1, value, data.attribute_opt);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectListFC);

                                //if ($('#selectJudulVariantBlibliLv1').val() != "") {
                                //    if ($('#selectJudulVariantBlibliLv1').val() == "WA-0000002") {
                                        var FoundValue = "";
                                        for (var d = 0; d < 1; d++) {
                                            if (FoundValue == "") {
                                                var value = SelectListFC[d].id;
                                                //if ($('#selectJudulVariantBlibliFCLv1').val() == value) {
                                                FoundValue = SelectListFC[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                                //}
                                            }
                                        }
                                //    }
                                //}
                            });
                        }
                        if ($('#selectJudulVariantBlibliFCLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariantBlibliFCLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectListFC,
                                onChange: function (value) {
                                    $('#selectJudulVariantBlibliFCLv2').val(value);
                                    SearchOptVariantBlibli(2, value, data.attribute_opt);
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectListFC);

                                //if ($('#selectJudulVariantBlibliFCLv1').val() != "") {
                                var FoundValue = "";
                                for (var d = 0; d < 1; d++) {
                                    if (FoundValue == "") {
                                        var value = SelectListFC[d].id;
                                        //if ($('#selectJudulVariantBlibliFCLv1').val() == value) {
                                        FoundValue = SelectListFC[d].id;
                                        attributeSelect[0].selectize.setValue(FoundValue, false);
                                        //}
                                    }
                                }
                                //}
                            });
                        }
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
        }
        else {
            $('#blibli_detail_tab_variant_button').remove();
        }
    }
    function SearchOptVariantBlibli(level, variant_id, optAttributes) {
        @*var link = '@Url.Action("GetAttributeOptBlibliVar", "Manage", new { code = "replaceCode" })';
        link = link.replace("replaceCode", variant_id);
        $.ajax({
            type: "GET",
            url: link,
            contentType: 'application/json',
            cache: false,
            success: function (data) {*@
        var SelectList = [];
        $.each(optAttributes.filter(p=>p.ACODE == variant_id),
            function (i, item) {
                SelectList[i] = {
                    id: item.OPTION_VALUE,
                    text: item.OPTION_VALUE
                };
            });
        if (variant_id == "FA-2000060") {//family color
            $(".selectVariantBlibliFCLv" + level + "_").each(function (i, item) {
                //var data_recnum = $(item).attr("data-recnum");
                var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                var len = SelectList.length;

                var attributeOptSelect = $(item).selectize({
                    maxItems: 1,
                    valueField: 'id',
                    searchField: 'text',
                    options: SelectList,
                    onChange: function (value) {
                        $('#save_map_var_blibli').removeAttr('disabled');
                        var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                        $('#txtVariantBlibliFCLv' + level + '_' + input_data_recnum).val(value);
                    }
                });

                attributeOptSelect[0].selectize.clearOptions();
                //attributeOptSelect[0].selectize.renderCache = {};
                attributeOptSelect[0].selectize.load(function (callback) {
                    callback(SelectList);

                    if ($('#txtVariantBlibliFCLv' + level + '_' + data_recnum).val() != "") {
                        var FoundValue = "";
                        for (var d = 0; d < len; d++) {
                            if (FoundValue == "") {
                                var value = SelectList[d].id;
                                if ($('#txtVariantBlibliFCLv' + level + '_' + data_recnum).val() == value) {
                                    FoundValue = SelectList[d].id;
                                    attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_blibli enable
                                }
                            }
                        }
                    }
                });
            });
        } else {
            $('.selectVariantBlibliLv' + level + '_').show();
            $(".selectVariantBlibliLv" + level + "_").each(function (i, item) {
                //var data_recnum = $(item).attr("data-recnum");
                var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                var len = SelectList.length;

                if (len > 0) {
                    $('#txtVariantBlibliLv' + level + '_' + data_recnum).attr('type', 'hidden');
                    $('#txtVariantBlibliLv' + level + '_' + data_recnum).removeClass('form-control');
                    $('#selectVariantBlibliLv' + level + '_' + data_recnum).hide();

                    var attributeOptSelect = $(item).selectize({
                        maxItems: 1,
                        valueField: 'id',
                        searchField: 'text',
                        options: SelectList,
                        onChange: function (value) {
                            $('#save_map_var_blibli').removeAttr('disabled');
                            var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                            $('#txtVariantBlibliLv' + level + '_' + input_data_recnum).val(value);
                        }
                    });


                    attributeOptSelect[0].selectize.clearOptions();
                    //attributeOptSelect[0].selectize.renderCache = {};
                    attributeOptSelect[0].selectize.load(function (callback) {
                        callback(SelectList);

                        if ($('#txtVariantBlibliLv' + level + '_' + data_recnum).val() != "") {
                            var FoundValue = "";
                            for (var d = 0; d < len; d++) {
                                if (FoundValue == "") {
                                    var value = SelectList[d].id;
                                    if ($('#txtVariantBlibliLv' + level + '_' + data_recnum).val() == value) {
                                        FoundValue = SelectList[d].id;
                                        attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_blibli enable
                                    }
                                }
                            }
                        }
                    });
                }
                else
                {
                    $('#txtVariantBlibliLv' + level + '_' + data_recnum).attr('type', 'text');
                    $('#txtVariantBlibliLv' + level + '_' + data_recnum).addClass('form-control');
                    $('.selectVariantBlibliLv' + level + '_').hide();

                }
            });
            //if (showCombo == 1) {
            //    //$('.selectVariantBlibliLv' + level + '_').show();
            //    $('.selectize-control.selectVariantBlibliLv' + level + '_').css('display', 'block')
            //} else {
            //    $('.selectVariantBlibliLv' + level + '_').hide();

            //}
        }

        //    },
        //    error: function (xhr) {
        //        console.log(xhr);
        //    }
        //});
    }
    function InitSettingVariantLazada() {
        if ($('#txtLazadaCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategoriLazada').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategoriLazada').val($(fieldCategoryName).val());
            });

            //add by nurul 26/2/2020, opsi variasi jadi textbox
            $('.txtVariantLazadaLv1_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_lazada').removeAttr('disabled');
                });
            });
            $('.txtVariantLazadaLv2_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_lazada').removeAttr('disabled');
                });
            });
            $('.txtVariantLazadaLv3_').each(function () {
                var $this = $(this);
                $this.off('change').on('change', function () {
                    $('#save_map_var_lazada').removeAttr('disabled');
                });
            });
            //selectJudulVariantLazadaLv1
            //end add by nurul 26/2/2020, opsi variasi jadi textbox

            if ($('#selectJudulVariantLazadaLv1').length > 0 || $('#selectJudulVariantLazadaLv2').length > 0 || $('#selectJudulVariantLazadaLv3').length > 0) {
                var link = '@Url.Action("GetAttributeLazadaVar", "Manage", new { code = "replaceCode" })';
                link = link.replace("replaceCode", encodeURIComponent($(fieldCategoryCode).val()));
                $.ajax({
                    type: "GET",
                    url: link,
                    contentType: 'application/json',
                    cache: false,
                    success: function (data) {
                        var SelectList = [];
                        var counter = 0;
                        $.each(data,
                            function (i, item) {
                                for (var a = 0; a < 30; a++) {
                                    var ALABEL = item["ALABEL" + (a + 1)];
                                    var ATYPE = item["ATYPE" + (a + 1)];
                                    var ANAME = item["ANAME" + (a + 1)];
                                    var AINPUT_TYPE = item["AINPUT_TYPE" + (a + 1)];
                                    var ASALE_PROP = item["ASALE_PROP" + (a + 1)];
                                    var AMANDATORY = item["AMANDATORY" + (a + 1)];
                                    if (ASALE_PROP == "1") {
                                        if (ANAME != null && ANAME != "") {
                                            SelectList[counter] = {
                                                id: ANAME,
                                                text: ALABEL,
                                                type: AINPUT_TYPE
                                            };
                                            counter = counter + 1;
                                        }
                                    }
                                }
                            });

                        var len = SelectList.length;
                        if ($('#selectJudulVariantLazadaLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariantLazadaLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantLazadaLv1').val(value);
                                    //remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    //SearchOptVariantLazada(1, value);
                                    //end remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    $('#save_map_var_lazada').removeAttr('disabled');
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantLazadaLv1').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantLazadaLv1').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantLazadaLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariantLazadaLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantLazadaLv2').val(value);
                                    //remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    //SearchOptVariantLazada(2, value);
                                    //end remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    $('#save_map_var_lazada').removeAttr('disabled');
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantLazadaLv2').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantLazadaLv2').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantLazadaLv3').length > 0) {
                            var attributeSelect = $('#selectJudulVariantLazadaLv3').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantLazadaLv3').val(value);
                                    //remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    //SearchOptVariantLazada(3, value);
                                    //end remark by nurul 26/2/2020, opsi variasi jadi textbox
                                    $('#save_map_var_lazada').removeAttr('disabled');
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantLazadaLv3').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantLazadaLv3').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
        }
        else {
            $('#lazada_detail_tab_variant_button').remove();
        }
    }

    function InitSettingVariantElevenia() {
        $('#elevenia_detail_tab_variant_button').remove();
    }

    function SearchOptVariantLazada(level, variant_id) {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
        $('#txtKodeKategoriLazada').val($(fieldCategoryCode).val());

        var link = '@Url.Action("GetAttributeOptLazadaVar", "Manage", new { code = "replaceCode" })';
        link = link.replace("replaceCode", encodeURIComponent(variant_id + ';' + $('#txtKodeKategoriLazada').val()));
        //$('#txtKodeKategoriLazada').val($(fieldCategoryCode).val());

        $.ajax({
            type: "GET",
            url: link,
            contentType: 'application/json',
            cache: false,
            success: function (data) {
                debugger;
                var SelectList = [];
                var counter = 0;
                $.each(data,
                    function (i, item) {
                        SelectList[i] = {
                            id: item.O_NAME,
                            text: item.O_NAME
                        };
                        counter = counter + 1;
                    });
                var isInputTypeText = false;
                if (counter == 1) {
                    if (SelectList[0].id == "INPUT_TEXT") {
                        isInputTypeText = true;
                    }
                }

                $(".selectVariantLazadaLv" + level + "_").each(function (i, item) {
                    var divContainer = $($(item).closest('.tampungdatarecnum'));
                    var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                    var item_id = $(item).attr('id');
                    if (isInputTypeText) {
                        $("#selectVariantLazadaLv" + level + "_" + data_recnum + "").hide();
                        $("#txtVariantLazadaLv" + level + "_" + data_recnum + "").show();

                        $("#txtVariantLazadaLv" + level + "_" + data_recnum + "").each(function () {
                            var $this = $(this);
                            $this.off('change').on('change', function () {
                                $('#save_map_var_lazada').removeAttr('disabled');
                            });
                        });
                    }
                    else {
                        $("#selectVariantLazadaLv" + level + "_" + data_recnum + "").show();
                        $("#txtVariantLazadaLv" + level + "_" + data_recnum + "").hide();

                        $("#txtVariantLazadaLv" + level + "_" + data_recnum + "").each(function () {
                            var $this = $(this);
                            $this.off('change');
                        });

                        var len = SelectList.length;

                        var attributeOptSelect = $(item).selectize({
                            maxItems: 1,
                            valueField: 'id',
                            searchField: 'text',
                            options: SelectList,
                            onChange: function (value) {
                                $('#save_map_var_lazada').removeAttr('disabled');
                                var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                                $('#txtVariantLazadaLv' + level + '_' + input_data_recnum).val(value);
                            }
                        });

                        attributeOptSelect[0].selectize.clearOptions();
                        attributeOptSelect[0].selectize.renderCache = {};
                        attributeOptSelect[0].selectize.load(function (callback) {
                            callback(SelectList);

                            if ($('#txtVariantLazadaLv' + level + '_' + data_recnum).val() != "") {
                                var FoundValue = "";
                                for (var d = 0; d < len; d++) {
                                    if (FoundValue == "") {
                                        var value = SelectList[d].id;
                                        if ($('#txtVariantLazadaLv' + level + '_' + data_recnum).val() == value) {
                                            FoundValue = SelectList[d].id;
                                            attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_lazada enable
                                        }
                                    }
                                }
                            }
                        });
                    }
                });
            },
            error: function (xhr) {
                console.log(xhr);
            }
        });
    }

    function InitSettingVariantJdid() {
        if ($('#txtJdidCategoryCodeFound').val() > -1) {
            var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
            var fieldCategoryName = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_NAME';
            $(fieldCategoryCode).change(function () {
                $('#txtKodeKategoriJdid').val($(fieldCategoryCode).val());
            });
            $(fieldCategoryName).change(function () {
                $('#txtNamaKategoriJdid').val($(fieldCategoryName).val());
            });

            if ($('#selectJudulVariantJdidLv1').length > 0 || $('#selectJudulVariantJdidLv2').length > 0 || $('#selectJudulVariantJdidLv3').length > 0) {
                var link = '@Url.Action("GetAttributeJdidVar", "Manage", new { code = "replaceCode" })';
                link = link.replace("replaceCode", encodeURIComponent($(fieldCategoryCode).val() + ';' + $('#txtJdidMarketRecnumFound').val()));
                $.ajax({
                    type: "GET",
                    url: link,
                    contentType: 'application/json',
                    cache: false,
                    success: function (data) {
                        var SelectList = [];
                        var counter = 0;
                        $.each(data,
                            function (i, item) {
                                for (var a = 0; a < 30; a++) {
                                    var ACODE = item["ACODE_" + (a + 1)];
                                    var AVALUE = item["AVALUE_" + (a + 1)];
                                    var ANAME = item["ANAME_" + (a + 1)];
                                    //var AOPTIONS = item["AOPTIONS_" + (a + 1)];
                                    //if (ATYPE == "DEFINING_ATTRIBUTE") {
                                        if (ACODE != null && ACODE != "") {
                                            SelectList[counter] = {
                                                id: ACODE,
                                                text: ANAME
                                            };
                                            counter = counter + 1;
                                        }
                                    //}
                                }
                            });

                        var len = SelectList.length;
                        if ($('#selectJudulVariantJdidLv1').length > 0) {
                            var attributeSelect = $('#selectJudulVariantJdidLv1').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantJdidLv1').val(value);
                                    SearchOptVariantJdid(1, $(fieldCategoryCode).val(), value, $('#txtJdidMarketRecnumFound').val());
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantJdidLv1').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantJdidLv1').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                        if ($('#selectJudulVariantJdidLv2').length > 0) {
                            var attributeSelect = $('#selectJudulVariantJdidLv2').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantJdidLv2').val(value);
                                    SearchOptVariantJdid(2, $(fieldCategoryCode).val(), value, $('#txtJdidMarketRecnumFound').val());
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantJdidLv2').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantJdidLv2').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }

                        if ($('#selectJudulVariantJdidLv3').length > 0) {
                            var attributeSelect = $('#selectJudulVariantJdidLv3').selectize({
                                valueField: 'id',
                                searchField: 'text',
                                options: SelectList,
                                onChange: function (value) {
                                    $('#txtJudulVariantJdidLv3').val(value);
                                    SearchOptVariantJdid(3, $(fieldCategoryCode).val(), value, $('#txtJdidMarketRecnumFound').val());
                                }
                            });
                            attributeSelect[0].selectize.clearOptions();
                            attributeSelect[0].selectize.renderCache = {};
                            attributeSelect[0].selectize.load(function (callback) {
                                callback(SelectList);

                                if ($('#txtJudulVariantJdidLv3').val() != "") {
                                    var FoundValue = "";
                                    for (var d = 0; d < len; d++) {
                                        if (FoundValue == "") {
                                            var value = SelectList[d].id;
                                            if ($('#txtJudulVariantJdidLv3').val() == value) {
                                                FoundValue = SelectList[d].id;
                                                attributeSelect[0].selectize.setValue(FoundValue, false);
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
        }
        else {
            $('#jdid_detail_tab_variant_button').remove();
        }
    }
        function SearchOptVariantJdid(level, categoryID, codeValue, cust) {
            var link = '@Url.Action("GetAttributeOptJdidVar", "Manage", new { code = "replaceCode" })';
            link = link.replace("replaceCode", encodeURIComponent(codeValue + ';' + categoryID  + ';' + cust));
        $.ajax({
            type: "GET",
            url: link,
            contentType: 'application/json',
            cache: false,
            success: function (data) {
                var SelectList = [];

            $.each(data,
                function (i, item) {
                    SelectList[i] = {
                        id: item.ACODE,
                        text: item.OPTION_VALUE
                    };
                    });

                $(".selectVariantJdidLv" + level + "_").each(function (i, item) {
                    //var data_recnum = $(item).attr("data-recnum");
                    var data_recnum = $($(item).closest('.tampungdatarecnum')).attr('data-recnum');
                    var len = SelectList.length;

                    var attributeOptSelect = $(item).selectize({
                        maxItems: 1,
                        valueField: 'id',
                        searchField: 'text',
                        options: SelectList,
                        onChange: function (value) {
                            $('#save_map_var_jdid').removeAttr('disabled');
                            var input_data_recnum = $($(this.$input).closest('.tampungdatarecnum')).attr('data-recnum');
                            $('#txtVariantJdidLv' + level + '_' + input_data_recnum).val(value);
                        }
                    });

                    attributeOptSelect[0].selectize.clearOptions();
                    //attributeOptSelect[0].selectize.renderCache = {};
                    attributeOptSelect[0].selectize.load(function (callback) {
                        callback(SelectList);

                        if ($('#txtVariantJdidLv' + level + '_' + data_recnum).val() != "") {
                            var FoundValue = "";
                            for (var d = 0; d < len; d++) {
                                if (FoundValue == "") {
                                    var value = SelectList[d].id;
                                    if ($('#txtVariantJdidLv' + level + '_' + data_recnum).val() == value) {
                                        FoundValue = SelectList[d].id;
                                        attributeOptSelect[0].selectize.setValue(FoundValue, true);//silent = true, agar tidak set button save_map_var_jdid enable
                                    }
                                }
                            }
                        }
                    });
                });
            },
            error: function (xhr) {
                console.log(xhr);
            }
        });
    }

    function getOptSelectMultiple(level) {
        if ($('#select_opt_level_' + level).length > 0) {
            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                level: level
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("GetOptVariantBarang", "Manage")',
                data: post_data,
                success: function (data) {
                    var listAttributeOpt = [];
                    var adaValue = data.selected;
                    $.each(data.options,
                        function (i, item) {
                            listAttributeOpt[i] = {
                                id: item.KODE_VAR,
                                text: item.KET_VAR
                            };
                        });
                    var AttributeOptSelectMultiple = $('#select_opt_level_' + level).selectize({
                        maxItems: 20,
                        valueField: 'id',
                        searchField: 'text',
                        options: listAttributeOpt,
                        onChange: function (value) {
                            $('#proses_var_btn').removeAttr('disabled');
                        }
                    });

                    if (adaValue != "" && adaValue != null) {
                        var adaValues = adaValue.split(',');
                        AttributeOptSelectMultiple[0].selectize.setValue(adaValues, true);
                    }
                },
                error: function (xhr) {
                    console.log(xhr);
                }
            });
        }
    }

    var validasi_prosesBarangVarPartial = true;
    var message_validasi_prosesBarangVarPartial = "";
    var validasi_autoloadStf02Variant = true;
    var message_validasi_autoloadStf02Variant = "";
    function prosesBarangVarPartial() {
        if (confirm("Lanjutkan setting barang variasi ke tahap 2 ?")) {
            validasi_prosesBarangVarPartial = true;
            message_validasi_prosesBarangVarPartial = "";

            //validasi Master Online
            if ($('#Stf02_BRG').val() == "" || $('#Stf02_BRG').val() == null) {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Kode Barang harus diisi";
            }
            if ($('#txtKodeKategori').val() == "" || $('#txtKodeKategori').val() == null) {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Kategori harus diisi";
            }
            //end validasi Master Online

            //CEK SHOPEE
            var shopee_code = "";
            var ada_shopee = false;
            if ($('#txtShopeeCategoryCodeFound').val() != undefined) {
                if ($('#txtShopeeCategoryCodeFound').val() > -1) {
                    ada_shopee = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
                    shopee_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialShopee();
                }
            }
            //END CEK SHOPEE

            //CEK 82CART
            var e2cart_code = "";
            var ada_82cart = false;
            if ($('#txt82CartCategoryCodeFound').val() != undefined) {
                if ($('#txt82CartCategoryCodeFound').val() > -1) {
                    ada_82cart = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
                    e2cart_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartial82Cart();
                }
            }
            //END CEK 82CART

            //CEK SHOPIFY
            var shopify_code = "";
            var ada_shopify = false;
            if ($('#txtshopifyCategoryCodeFound').val() != undefined) {
                if ($('#txtshopifyCategoryCodeFound').val() > -1) {
                    ada_shopify = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
                    shopify_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialshopify();
                }
            }
            //END CEK SHOPIFY

            //CEK TOKPED
            var tokped_code = "";
            var ada_tokped = false;
            if ($('#txtTokpedCategoryCodeFound').val() != undefined) {
                if ($('#txtTokpedCategoryCodeFound').val() > -1) {
                    ada_tokped = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
                    tokped_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialTokped();
                }
            }
            //END CEK TOKPED

            //CEK BLIBLI
            var blibli_code = "";
            var ada_blibli = false;
            if ($('#txtBlibliCategoryCodeFound').val() != undefined) {
                if ($('#txtBlibliCategoryCodeFound').val() > -1) {
                    ada_blibli = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
                    blibli_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialBlibli();
                }
            }
            //END CEK BLIBLI

            //CEK LAZADA
            var lazada_code = "";
            var ada_lazada = false;
            if ($('#txtLazadaCategoryCodeFound').val() != undefined) {
                if ($('#txtLazadaCategoryCodeFound').val() > -1) {
                    ada_lazada = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
                    lazada_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialLazada();
                }
            }
            //END CEK LAZADA

            //JDID
            var jdid_code = "";
            var ada_jdid = false;
            if ($('#txtJdidCategoryCodeFound').val() != undefined) {
                if ($('#txtJdidCategoryCodeFound').val() > -1) {
                    ada_jdid = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
                    jdid_code = $(fieldCategoryCode).val();
                    validasiProsesBarangVarPartialJdid();
                }
            }
            //END JDID

            if (validasi_prosesBarangVarPartial) {
                var post_data = {
                    brg: $('#Stf02_BRG').val(),
                    shopee_code: shopee_code,
                    tokped_code: tokped_code,
                    blibli_code: blibli_code,
                    lazada_code: lazada_code,
                    e2cart_code: e2cart_code,
                    shopify_code: shopify_code,
                    jdid_code: jdid_code,
                    code: $('#txtKodeKategori').val(),
                    opt_selected_1: $('#select_opt_level_1').val(),
                    opt_selected_2: $('#select_opt_level_2').val(),
                    opt_selected_3: $('#select_opt_level_3').val()
                }
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("SaveOptVariantBarang", "Manage")',
                    data: post_data,
                    beforeSend: function () {
                        $('#loading_spinner').show();
                    },
                    success: function (response) {
                        $('#var-structure-partial').html(response);
                        $('#loading_spinner').hide();
                        $($('#variant-tabs a')[1]).tab('show');
                        $('#proses_detail_var_btn').removeAttr('disabled');
                        $('#simpan_variant_btn').hide();
                    },
                    error: function (xhr) {
                        console.log(xhr);
                    }
                });
            }
            else {
                if (message_validasi_prosesBarangVarPartial != "") {
                    alert(message_validasi_prosesBarangVarPartial);
                }
            }
        }
    }
    function validasiProsesBarangVarPartialShopee() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Shopee harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartial82Cart() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category 82Cart harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartialshopify() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Shopify harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartialTokped() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Tokped harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartialBlibli() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Blibli harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartialLazada() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Lazada harus dipilih terlebih dahulu.";
            }
        }
    }
    function validasiProsesBarangVarPartialJdid() {
        var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
        if ($(fieldCategoryCode).val() != undefined) {
            if ($(fieldCategoryCode).val() == null || $(fieldCategoryCode).val() == "") {
                validasi_prosesBarangVarPartial = false;
                message_validasi_prosesBarangVarPartial = "Category Jdid harus dipilih terlebih dahulu.";
            }
        }
    }

    function openKonfKodeBarangVariasi() {
        $('#proses_detail_var_btn').attr('disabled', 'disabled');
        if (confirm("Sudah Selesai Setting Map Variasi ?")) {
            validasi_autoloadStf02Variant = true;
            message_validasi_autoloadStf02Variant = "";

            //validasi Master Online
            if ($('#Stf02_BRG').val() == "" || $('#Stf02_BRG').val() == null) {
                validasi_autoloadStf02Variant = false;
                message_validasi_autoloadStf02Variant = "Kode Barang harus diisi";
            }
            //end validasi Master Online

            //SHOPEE
            var shopee_code = "";
            var ada_shopee = false;
            if ($('#txtShopeeCategoryCodeFound').val() != undefined) {
                if ($('#txtShopeeCategoryCodeFound').val() > -1) {
                    ada_shopee = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
                    shopee_code = $(fieldCategoryCode).val();
                    validasiAutoloadStf02VariantShopee();
                }
            }
            //END SHOPEE

            //82CART
            var e2cart_code = "";
            var ada_82cart = false;
            if ($('#txt82CartCategoryCodeFound').val() != undefined) {
                if ($('#txt82CartCategoryCodeFound').val() > -1) {
                    ada_82cart = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
                    e2cart_code = $(fieldCategoryCode).val();
                    validasiAutoloadStf02Variant82Cart();
                }
            }
            //END 82CART

            //SHOPIFY
            var shopify_code = "";
            var ada_shopify = false;
            if ($('#txtshopifyCategoryCodeFound').val() != undefined) {
                if ($('#txtshopifyCategoryCodeFound').val() > -1) {
                    ada_shopify = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
                    shopify_code = $(fieldCategoryCode).val();
                    validasiAutoloadStf02Variantshopify();
                }
            }
            //END SHOPIFY

            //TOKPED
            var tokped_code = "";
            var ada_tokped = false;
            if ($('#txtTokpedCategoryCodeFound').val() != undefined) {
                if ($('#txtTokpedCategoryCodeFound').val() > -1) {
                    ada_tokped = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
                    tokped_code = $(fieldCategoryCode).val();
                    if (validasi_autoloadStf02Variant) {
                        validasiAutoloadStf02VariantTokped();
                    }
                }
            }
            //END TOKPED

            //BLIBLI
            var blibli_code = "";
            var ada_blibli = false;
            if ($('#txtBlibliCategoryCodeFound').val() != undefined) {
                if ($('#txtBlibliCategoryCodeFound').val() > -1) {
                    ada_blibli = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
                    blibli_code = $(fieldCategoryCode).val();
                    if (validasi_autoloadStf02Variant) {
                        validasiAutoloadStf02VariantBlibli();
                    }
                }
            }
            //END BLIBLI

            //LAZADA
            var lazada_code = "";
            var ada_lazada = false;
            if ($('#txtLazadaCategoryCodeFound').val() != undefined) {
                if ($('#txtLazadaCategoryCodeFound').val() > -1) {
                    ada_lazada = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
                    lazada_code = $(fieldCategoryCode).val();
                    if (validasi_autoloadStf02Variant) {
                        validasiAutoloadStf02VariantLazada();
                    }
                }
            }
            //END LAZADA

            //JDID
            var jdid_code = "";
            var ada_jdid = false;
            if ($('#txtJdidCategoryCodeFound').val() != undefined) {
                if ($('#txtJdidCategoryCodeFound').val() > -1) {
                    ada_jdid = true;
                    var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
                    jdid_code = $(fieldCategoryCode).val();
                    if (validasi_autoloadStf02Variant) {
                        validasiAutoloadStf02VariantJdid();
                    }
                }
            }
            //END JDID

            if (validasi_autoloadStf02Variant) {
                var post_data = {
                    brg: $('#Stf02_BRG').val(),
                    code: $('#txtKodeKategori').val(),
                    opt_selected_1: $('#select_opt_level_1').val(),
                    opt_selected_2: $('#select_opt_level_2').val(),
                    opt_selected_3: $('#select_opt_level_3').val()
                }
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("SettingKodeVariasiPartial", "Manage")',
                    data: post_data,
                    beforeSend: function () {
                        $('#loading_spinner').show();
                    },
                    success: function (response) {
                        $('#setting-kode-barang-variasi-partial-div').html(response);
                        $('#KonfKodeBarangVariasi').modal('show');
                        $('#loading_spinner').hide();
                        $('#proses_detail_var_btn').removeAttr('disabled');
                    },
                    error: function (xhr) {
                        console.log(xhr);
                        $('#loading_spinner').hide();
                        $('#proses_detail_var_btn').removeAttr('disabled');
                    }
                });
            }
            else {
                $('#proses_detail_var_btn').removeAttr('disabled');
                if (message_validasi_autoloadStf02Variant != "") {
                    alert(message_validasi_autoloadStf02Variant);
                }
            }
        }
        else {
            $('#proses_detail_var_btn').removeAttr('disabled');
        }
    }

    function AutoloadVariantBarang() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        //validasi Master Online
        if ($('#Stf02_BRG').val() == "" || $('#Stf02_BRG').val() == null) {
            validasi_autoloadStf02Variant = false;
            message_validasi_autoloadStf02Variant = "Kode Barang harus diisi";
        }
        //end validasi Master Online

        //SHOPEE
        var shopee_code = "";
        var ada_shopee = false;
        if ($('#txtShopeeCategoryCodeFound').val() != undefined) {
            if ($('#txtShopeeCategoryCodeFound').val() > -1) {
                ada_shopee = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
                shopee_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantShopee();
            }
        }
        //END SHOPEE

        //82CART
        var e2cart_code = "";
        var ada_82cart = false;
        if ($('#txt82CartCategoryCodeFound').val() != undefined) {
            if ($('#txt82CartCategoryCodeFound').val() > -1) {
                ada_82cart = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
                e2cart_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02Variant82Cart();
            }
        }
        //END 82CART

        //SHOPIFY
        var shopify_code = "";
        var ada_shopify = false;
        if ($('#txtshopifyCategoryCodeFound').val() != undefined) {
            if ($('#txtshopifyCategoryCodeFound').val() > -1) {
                ada_shopify = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
                shopify_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02Variantshopify();
            }
        }
        //END SHOPIFY

        //TOKPED
        var tokped_code = "";
        var ada_tokped = false;
        if ($('#txtTokpedCategoryCodeFound').val() != undefined) {
            if ($('#txtTokpedCategoryCodeFound').val() > -1) {
                ada_tokped = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
                tokped_code = $(fieldCategoryCode).val();
                if (validasi_autoloadStf02Variant) {
                    validasiAutoloadStf02VariantTokped();
                }
            }
        }
        //END TOKPED

        //BLIBLI
        var blibli_code = "";
        var ada_blibli = false;
        if ($('#txtBlibliCategoryCodeFound').val() != undefined) {
            if ($('#txtBlibliCategoryCodeFound').val() > -1) {
                ada_blibli = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
                blibli_code = $(fieldCategoryCode).val();
                if (validasi_autoloadStf02Variant) {
                    validasiAutoloadStf02VariantBlibli();
                }
            }
        }
        //END BLIBLI

        //LAZADA
        var lazada_code = "";
        var ada_lazada = false;
        if ($('#txtLazadaCategoryCodeFound').val() != undefined) {
            if ($('#txtLazadaCategoryCodeFound').val() > -1) {
                ada_lazada = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
                lazada_code = $(fieldCategoryCode).val();
                if (validasi_autoloadStf02Variant) {
                    validasiAutoloadStf02VariantLazada();
                }
            }
        }
        //END LAZADA

        //JDID
        var jdid_code = "";
        var ada_jdid = false;
        if ($('#txtJdidCategoryCodeFound').val() != undefined) {
            if ($('#txtJdidCategoryCodeFound').val() > -1) {
                ada_jdid = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
                jdid_code = $(fieldCategoryCode).val();
                if (validasi_autoloadStf02Variant) {
                    validasiAutoloadStf02VariantJdid();
                }
            }
        }
        //END JDID

        if (validasi_autoloadStf02Variant) {
            var kodeVariant = [];
            var validasi = true;
            $('#table_setting_kode_variasi input[data-jenis="kode_var"]').each(function (i, item) {
                $(item).closest('.form-group').removeClass('has-error');
                $($(item).closest('.form-group')).children(".text-danger").remove();

                if ($(item).val().trim() == "") {
                    validasi = false;
                    addError($(item), "Kode harus diisi !");
                } else if ($(item).val().length > 20) {
                    validasi = false;
                    addError($(item), "Kode maximal 20 karakter !");
                }
                else {
                    if (kodeVariant.length > 0) {
                        if (kodeVariant.find(x=>x.customKode == $(item).val().trim())) {
                            validasi = false;
                            addError($(item), "Kode tidak boleh duplikat !");
                        }
                    }
                }

                kodeVariant[i] = {
                    kode: $(item).attr("data-kode-barang"),
                    customKode: $(item).val().trim()
                };
            });

            if (validasi) {
                var post_data = {
                    brg: $('#Stf02_BRG').val(),
                    code: $('#txtKodeKategori').val(),
                    opt_selected_1: $('#select_opt_level_1').val(),
                    opt_selected_2: $('#select_opt_level_2').val(),
                    opt_selected_3: $('#select_opt_level_3').val(),
                    kode_custom: kodeVariant
                }
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("AutoloadVariantBarang", "Manage")',
                    data: post_data,
                    beforeSend: function () {
                        $('#loading_spinner_setting').show();
                    },
                    success: function (response) {
                        if (response.Errors == null) {
                            $('#var-detail-variant-partial').html(response);
                            $('#proses_detail_var_btn').attr('disabled', 'disabled');
                            $('#KonfKodeBarangVariasi').modal('hide');
                        }
                        else {
                            $(response.Errors).each(function (i, item) {
                                var fieldError = $('#table_setting_kode_variasi input[data-kode-barang="' + item + '"]');
                                addError(fieldError, "Kode sudah dipakai untuk barang lain !");
                            });
                        }
                        $('#loading_spinner_setting').hide();
                    },
                    error: function (xhr) {
                        $('#loading_spinner_setting').hide();
                    }
                });
            }
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    function validasiAutoloadStf02VariantShopee() {
        $(".txtVariantShopeeLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantShopeeLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantShopeeLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi Shopee.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_shopee').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi Shopee.";
            }
        }
    }
    function validasiAutoloadStf02Variant82Cart() {
        $(".txtVariant82CartLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariant82CartLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariant82CartLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi 82Cart.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_82Cart').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi 82Cart.";
            }
        }
    }
    function validasiAutoloadStf02Variantshopify() {
        $(".txtVariantshopifyLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantshopifyLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantshopifyLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi Shopify.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_shopify').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi Shopify.";
            }
        }
    }
    function validasiAutoloadStf02VariantTokped() {
        $(".txtVariantTokpedLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantTokpedLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantTokpedLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi Tokopedia.";

        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_tokped').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi Tokopedia.";
            }
        }
    }

    function validasiAutoloadStf02VariantBlibli() {
        $(".txtVariantBlibliLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantBlibliLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantBlibliLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi Blibli.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_blibli').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi Blibli.";
            }
        }
    }
    function validasiAutoloadStf02VariantLazada() {
        $(".txtVariantLazadaLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantLazadaLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantLazadaLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi Lazada.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_lazada').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi Lazada.";
            }
        }
    }
    function validasiAutoloadStf02VariantJdid() {
        $(".txtVariantJdidLv1_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantJdidLv2_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        $(".txtVariantJdidLv3_").each(function (i, item) {
            if ($(item).val() == "") {
                validasi_autoloadStf02Variant = false;
            }
        });
        message_validasi_autoloadStf02Variant = "Mohon isi semua Opsi JDID.";
        if (validasi_autoloadStf02Variant) {
            if (!$('#save_map_var_jdid').prop('disabled')) {
                message_validasi_autoloadStf02Variant = "Mohon simpan setting Opsi JDID.";
            }
        }
    }

    function SaveMapVarShopee() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        var shopee_code = "";
        var ada_shopee = false;
        if ($('#txtShopeeCategoryCodeFound').val() != undefined) {
            if ($('#txtShopeeCategoryCodeFound').val() > -1) {
                ada_shopee = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtShopeeCategoryCodeFound').val() + '__CATEGORY_CODE';
                shopee_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantShopee();
            }
        }

        if (validasi_autoloadStf02Variant) {
            var listVariantShopeeLv1 = [];
            var listVariantShopeeLv2 = [];
            var listVariantShopeeLv3 = [];

            $(".txtVariantShopeeLv1_").each(function (i, item) {
                listVariantShopeeLv1[i] = $(item).val();
            });
            $(".txtVariantShopeeLv2_").each(function (i, item) {
                listVariantShopeeLv2[i] = $(item).val();
            });
            $(".txtVariantShopeeLv3_").each(function (i, item) {
                listVariantShopeeLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                shopee: {
                    code: shopee_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantShopeeLv1").val(),
                        lv_2: $("#txtJudulVariantShopeeLv2").val(),
                        lv_3: $("#txtJudulVariantShopeeLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantShopeeLv1,
                        lv_2: listVariantShopeeLv2,
                        lv_3: listVariantShopeeLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarShopee", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_shopee').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }

    function SaveMapVar82Cart() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        var e2cart_code = "";
        var ada_82cart = false;
        if ($('#txt82CartCategoryCodeFound').val() != undefined) {
            if ($('#txt82CartCategoryCodeFound').val() > -1) {
                ada_82cart = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txt82CartCategoryCodeFound').val() + '__CATEGORY_CODE';
                e2cart_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02Variant82Cart();
            }
        }

        if (validasi_autoloadStf02Variant) {
            var listVariant82CartLv1 = [];
            var listVariant82CartLv2 = [];
            var listVariant82CartLv3 = [];

            $(".txtVariant82CartLv1_").each(function (i, item) {
                listVariant82CartLv1[i] = $(item).val();
            });
            $(".txtVariant82CartLv2_").each(function (i, item) {
                listVariant82CartLv2[i] = $(item).val();
            });
            $(".txtVariant82CartLv3_").each(function (i, item) {
                listVariant82CartLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                e2cart : {
                    code: e2cart_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariant82CartLv1").val(),
                        lv_2: $("#txtJudulVariant82CartLv2").val(),
                        lv_3: $("#txtJudulVariant82CartLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariant82CartLv1,
                        lv_2: listVariant82CartLv2,
                        lv_3: listVariant82CartLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVar82Cart", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_82Cart').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }

    //SHOPIFY
    function SaveMapVarshopify() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        var shopify_code = "";
        var ada_shopify = false;
        if ($('#txtshopifyCategoryCodeFound').val() != undefined) {
            if ($('#txtshopifyCategoryCodeFound').val() > -1) {
                ada_shopify = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtshopifyCategoryCodeFound').val() + '__CATEGORY_CODE';
                shopify_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02Variantshopify();
            }
        }

        if (validasi_autoloadStf02Variant) {
            var listVariantshopifyLv1 = [];
            var listVariantshopifyLv2 = [];
            var listVariantshopifyLv3 = [];

            $(".txtVariantshopifyLv1_").each(function (i, item) {
                listVariantshopifyLv1[i] = $(item).val();
            });
            $(".txtVariantshopifyLv2_").each(function (i, item) {
                listVariantshopifyLv2[i] = $(item).val();
            });
            $(".txtVariantshopifyLv3_").each(function (i, item) {
                listVariantshopifyLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                shopify : {
                    code: shopify_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantshopifyLv1").val(),
                        lv_2: $("#txtJudulVariantshopifyLv2").val(),
                        lv_3: $("#txtJudulVariantshopifyLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantshopifyLv1,
                        lv_2: listVariantshopifyLv2,
                        lv_3: listVariantshopifyLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarshopify", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_shopify').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    //SHOPIFY

    function SaveMapVarTokped() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        //TOKPED
        var tokped_code = "";
        var ada_tokped = false;
        if ($('#txtTokpedCategoryCodeFound').val() != undefined) {
            if ($('#txtTokpedCategoryCodeFound').val() > -1) {
                ada_tokped = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtTokpedCategoryCodeFound').val() + '__CATEGORY_CODE';
                tokped_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantTokped();
            }
        }
        //END TOKPED

        if (validasi_autoloadStf02Variant) {
            var listVariantTokpedLv1 = [];
            var listVariantTokpedLv2 = [];
            var listVariantTokpedLv3 = [];

            $(".txtVariantTokpedLv1_").each(function (i, item) {
                listVariantTokpedLv1[i] = $(item).val();
            });
            $(".txtVariantTokpedLv2_").each(function (i, item) {
                listVariantTokpedLv2[i] = $(item).val();
            });
            $(".txtVariantTokpedLv3_").each(function (i, item) {
                listVariantTokpedLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                tokped: {
                    code: tokped_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantTokpedLv1").val(),
                        lv_2: $("#txtJudulVariantTokpedLv2").val(),
                        lv_3: $("#txtJudulVariantTokpedLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantTokpedLv1,
                        lv_2: listVariantTokpedLv2,
                        lv_3: listVariantTokpedLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarTokped", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_tokped').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    function SaveMapVarBlibli() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        //BLIBLI
        var blibli_code = "";
        var ada_blibli = false;
        if ($('#txtBlibliCategoryCodeFound').val() != undefined) {
            if ($('#txtBlibliCategoryCodeFound').val() > -1) {
                ada_blibli = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtBlibliCategoryCodeFound').val() + '__CATEGORY_CODE';
                blibli_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantBlibli();
            }
        }
        //END BLIBLI

        if (validasi_autoloadStf02Variant) {
            var listVariantBlibliLv1 = [];
            var listVariantBlibliLv2 = [];
            var listVariantBlibliLv3 = [];
            var listVariantBlibliFCLv1 = [];
            var listVariantBlibliFCLv2 = [];

            $(".txtVariantBlibliLv1_").each(function (i, item) {
                listVariantBlibliLv1[i] = $(item).val();
            });
            $(".txtVariantBlibliLv2_").each(function (i, item) {
                listVariantBlibliLv2[i] = $(item).val();
            });
            $(".txtVariantBlibliLv3_").each(function (i, item) {
                listVariantBlibliLv3[i] = $(item).val();
            });
            $(".txtVariantBlibliFCLv1_").each(function (i, item) {
                listVariantBlibliFCLv1[i] = $(item).val();
            });
            $(".txtVariantBlibliFCLv2_").each(function (i, item) {
                listVariantBlibliFCLv2[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                blibli: {
                    code: blibli_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantBlibliLv1").val(),
                        lv_2: $("#txtJudulVariantBlibliLv2").val(),
                        lv_3: $("#txtJudulVariantBlibliLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantBlibliLv1,
                        lv_2: listVariantBlibliLv2,
                        lv_3: listVariantBlibliLv3,
                        fc_lv_1: listVariantBlibliFCLv1,
                        fc_lv_2: listVariantBlibliFCLv2

                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarBlibli", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_blibli').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    function SaveMapVarLazada() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        //LAZADA
        var lazada_code = "";
        var ada_lazada = false;
        if ($('#txtLazadaCategoryCodeFound').val() != undefined) {
            if ($('#txtLazadaCategoryCodeFound').val() > -1) {
                ada_lazada = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtLazadaCategoryCodeFound').val() + '__CATEGORY_CODE';
                lazada_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantLazada();
            }
        }
        //END LAZADA

        if (validasi_autoloadStf02Variant) {
            var listVariantLazadaLv1 = [];
            var listVariantLazadaLv2 = [];
            var listVariantLazadaLv3 = [];

            $(".txtVariantLazadaLv1_").each(function (i, item) {
                listVariantLazadaLv1[i] = $(item).val();
            });
            $(".txtVariantLazadaLv2_").each(function (i, item) {
                listVariantLazadaLv2[i] = $(item).val();
            });
            $(".txtVariantLazadaLv3_").each(function (i, item) {
                listVariantLazadaLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                lazada: {
                    code: lazada_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantLazadaLv1").val(),
                        lv_2: $("#txtJudulVariantLazadaLv2").val(),
                        lv_3: $("#txtJudulVariantLazadaLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantLazadaLv1,
                        lv_2: listVariantLazadaLv2,
                        lv_3: listVariantLazadaLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarLazada", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_lazada').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    function SaveMapVarJdid() {
        validasi_autoloadStf02Variant = true;
        message_validasi_autoloadStf02Variant = "";

        //JDID
        var jdid_code = "";
        var ada_jdid = false;
        if ($('#txtJdidCategoryCodeFound').val() != undefined) {
            if ($('#txtJdidCategoryCodeFound').val() > -1) {
                ada_jdid = true;
                var fieldCategoryCode = '#ListHargaJualPermarket_' + $('#txtJdidCategoryCodeFound').val() + '__CATEGORY_CODE';
                jdid_code = $(fieldCategoryCode).val();
                validasiAutoloadStf02VariantJdid();
            }
        }
        //END JDID

        if (validasi_autoloadStf02Variant) {
            var listVariantJdidLv1 = [];
            var listVariantJdidLv2 = [];
            var listVariantJdidLv3 = [];

            $(".txtVariantJdidLv1_").each(function (i, item) {
                listVariantJdidLv1[i] = $(item).val();
            });
            $(".txtVariantJdidLv2_").each(function (i, item) {
                listVariantJdidLv2[i] = $(item).val();
            });
            $(".txtVariantJdidLv3_").each(function (i, item) {
                listVariantJdidLv3[i] = $(item).val();
            });

            var post_data = {
                brg: $('#Stf02_BRG').val(),
                code: $('#txtKodeKategori').val(),
                opt_selected_1: $('#select_opt_level_1').val(),
                opt_selected_2: $('#select_opt_level_2').val(),
                opt_selected_3: $('#select_opt_level_3').val(),
                jdid: {
                    code: jdid_code,
                    var_judul: {
                        lv_1: $("#txtJudulVariantJdidLv1").val(),
                        lv_2: $("#txtJudulVariantJdidLv2").val(),
                        lv_3: $("#txtJudulVariantJdidLv3").val()
                    },
                    var_detail: {
                        lv_1: listVariantJdidLv1,
                        lv_2: listVariantJdidLv2,
                        lv_3: listVariantJdidLv3
                    }
                }
            }
            $.ajax({
                type: "POST",
                url: '@Url.Action("SaveMappingVarJdid", "Manage")',
                data: post_data,
                beforeSend: function () {
                    $('#loading_spinner').show();
                },
                success: function (response) {
                    $('#save_map_var_jdid').attr('disabled', 'disabled');
                    $('#loading_spinner').hide();
                    $('#proses_detail_var_btn').removeAttr('disabled');
                },
                error: function (xhr) {
                    console.log(xhr);
                    $('#loading_spinner').hide();
                }
            });
        }
        else {
            if (message_validasi_autoloadStf02Variant != "") {
                alert(message_validasi_autoloadStf02Variant);
            }
        }
    }
    </script>
<div class="form-horizontal">
    <div class="modal fade" id="KonfKodeBarangVariasi" tabindex="-1" role="dialog" aria-labelledby="KonfKodeBarangVariasiLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Cancel"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="KonfKodeBarangVariasiLabel">Kode Barang Variasi</h4>
                </div>
                <div class="modal-body" id="setting-kode-barang-variasi-partial-div">
                    @*@Html.Partial("SettingKodeVariasiPartial")*@
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="AutoKodeVariasiPartial();">Auto</button>
                    <button type="button" class="btn btn-success" onclick="AutoloadVariantBarang();">Buat Variasi</button>
                </div>
            </div>
        </div>
    </div>
    <div id="variant-section">
        <table style="width:100%">
            <tr>
                <td style="width:100%">
                    <ul id="variant-tabs" class="nav nav-tabs">
                        <li><a data-toggle="tab" href="#masteronline_detail_tab_variant">Master Online</a></li>
                        @{
                            var listMarket = Model.ListMarket;
                            var settingBarangPerAkun = Model.BarangPerMP;
                            var adaElevenia_variant = 0;
                            var adaBlibli_variant = 0;
                            var adaBukalapak_variant = 0;
                            var adaLazada_variant = 0;
                            var adaShopee_variant = 0;
                            var adaTokped_variant = 0;
                            var adaJdid_variant = 0;
                            var ada82cart_variant = 0;
                            var adashopify_variant = 0;
                        }
                        @for (var i = 0; i < listMarket.ToList().Count; i++)
            {
                var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                if (idMarket == 9)
                {
                    adaElevenia_variant = 1;
                }
                else if (idMarket == 16)
                {
                    adaBlibli_variant = 1;
                }
                else if (idMarket == 8)
                {
                    adaBukalapak_variant = 1;
                }
                else if (idMarket == 7)
                {
                    adaLazada_variant = 1;
                }
                else if (idMarket == 17)
                {
                    adaShopee_variant = 1;
                }
                else if (idMarket == 15)
                {
                    adaTokped_variant = 1;
                }
                else if (idMarket == 19)
                {
                    adaJdid_variant = 1;
                }
                else if (idMarket == 20)
                {
                    ada82cart_variant = 1;
                }
                else if (idMarket == 21)
                {
                    adashopify_variant = 1;
                }
            }
                        @if (adaShopee_variant == 1)
            {
                            <li><a data-toggle="tab" id="shopee_detail_tab_variant_button" href="#shopee_detail_tab_variant">Shopee</a></li>
                        }
                         @if (ada82cart_variant == 1)
            {
                            <li><a data-toggle="tab" id="e2cart_detail_tab_variant_button" href="#e2cart_detail_tab_variant">82Cart</a></li>
                        }
                         @if (adashopify_variant == 1)
            {
                            <li><a data-toggle="tab" id="shopify_detail_tab_variant_button" href="#shopify_detail_tab_variant">Shopify</a></li>
                        }
                        @if (adaTokped_variant == 1)
            {
                            <li><a data-toggle="tab" id="tokped_detail_tab_variant_button" href="#tokped_detail_tab_variant">Tokopedia</a></li>
                        }
                        @if (adaLazada_variant == 1)
            {
                            <li><a data-toggle="tab" id="lazada_detail_tab_variant_button" href="#lazada_detail_tab_variant">Lazada</a></li>
                        }
                        @if (adaBlibli_variant == 1)
            {
                            <li><a data-toggle="tab" id="blibli_detail_tab_variant_button" href="#blibli_detail_tab_variant">Blibli</a></li>
                        }
                        @if (adaElevenia_variant == 1)
            {
                            <li><a data-toggle="tab" id="elevenia_detail_tab_variant_button" href="#elevenia_detail_tab_variant">Elevenia</a></li>
                        }
                        @if (adaJdid_variant == 1)
            {
                            <li><a data-toggle="tab" id="jdid_detail_tab_variant_button" href="#jdid_detail_tab_variant">JD.ID</a></li>
                        }
                    </ul>
                </td>
            </tr>
        </table>

        <div class="tab-content">
            <div id="masteronline_detail_tab_variant" class="tab-pane fade in active">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        @{
                            var shopeeCategoryCodeFound = -1;
                            var e2cartCategoryCodeFound = -1;
                            var shopifyCategoryCodeFound = -1;
                            var tokpedCategoryCodeFound = -1;
                            var blibliCategoryCodeFound = -1;
                            var lazadaCategoryCodeFound = -1;
                            var jdidCategoryCodeFound = -1;
                            var STF02_ID = Model.Barang.ID;
                        }
                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                        {
                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                            if (shopeeCategoryCodeFound == -1)
                            {
                                if (idMarket == 17)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                    {
                                        //add by calvin 24 april 2019
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            //end add by calvin 24 april 2019
                                            shopeeCategoryCodeFound = i;
                                            @Html.TextBox("txtShopeeCategoryCodeFound", @shopeeCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                            if (e2cartCategoryCodeFound == -1)
                            {
                                if (idMarket == 20)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                    {
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            e2cartCategoryCodeFound = i;
                                            @Html.TextBox("txt82CartCategoryCodeFound", @e2cartCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                            if (shopifyCategoryCodeFound == -1)
                            {
                                if (idMarket == 21)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                    {
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            shopifyCategoryCodeFound = i;
                                            @Html.TextBox("txtshopifyCategoryCodeFound", @shopifyCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                            if (tokpedCategoryCodeFound == -1)
                            {
                                if (idMarket == 15)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                    {
                                        //add by calvin 24 april 2019
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            //end add by calvin 24 april 2019
                                            tokpedCategoryCodeFound = i;
                                            @Html.TextBox("txtTokpedCategoryCodeFound", @tokpedCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                            @Html.TextBox("txtTokpedMarketRecnumFound", @recnumArf01, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                            if (blibliCategoryCodeFound == -1)
                            {
                                if (idMarket == 16)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                    {
                                        //add by calvin 24 april 2019
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            //end add by calvin 24 april 2019
                                            blibliCategoryCodeFound = i;
                                            @Html.TextBox("txtBlibliCategoryCodeFound", @blibliCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                            @Html.TextBox("txtBlibliMarketRecnumFound", @recnumArf01, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                            if (lazadaCategoryCodeFound == -1)
                            {
                                if (idMarket == 7)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].STATUS_API))
                                    {
                                        if (Convert.ToString(listMarket[i].STATUS_API) == "1")
                                        {
                                            //add by calvin 24 april 2019
                                            var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                            if (cekDisplay ?? false)
                                            {
                                                //end add by calvin 24 april 2019
                                                lazadaCategoryCodeFound = i;
                                                @Html.TextBox("txtLazadaCategoryCodeFound", @lazadaCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                            }
                                        }
                                    }
                                }
                            }
                            if (jdidCategoryCodeFound == -1)
                            {
                                if (idMarket == 19)
                                {
                                    if (!string.IsNullOrEmpty(listMarket[i].API_KEY))
                                    {
                                        //add by calvin 24 april 2019
                                        var cekDisplay = settingBarangPerAkun.Where(p => p.IDMARKET == recnumArf01).SingleOrDefault()?.DISPLAY;
                                        if (cekDisplay ?? false)
                                        {
                                            //end add by calvin 24 april 2019
                                            blibliCategoryCodeFound = i;
                                            @Html.TextBox("txtJdidCategoryCodeFound", @blibliCategoryCodeFound, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                            @Html.TextBox("txtJdidMarketRecnumFound", @recnumArf01, new { @class = "form-control", disabled = "disabled", @style = "display:none;" })
                                        }
                                    }
                                }
                            }
                        }
                        @Html.Hidden("txtStf02ID", STF02_ID)
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategori", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategori", Model.Kategori.KODE, new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                <div class="form-group">
                                    @Html.Label("lblNamaKategori", "Kategori", new { @class = "control-label col-md-4 col-sm-4 col-xs-12" })
                                    <div class="col-md-8 col-sm-8 col-xs-12">
                                        @Html.TextBox("txtNamaKategori", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                                    </div>
                                </div>
                                @if (!string.IsNullOrWhiteSpace(Model.Variant_Level_1.VALUE_JUDUL_VAR))
                                {
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Variasi 1")
                                        </label>
                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(m => m.Variant_Level_1.VALUE_JUDUL_VAR, new { @class = "form-control", disabled = "disabled", Value = Model.Variant_Level_1.VALUE_JUDUL_VAR, placeholder = "" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Opsi Tersedia")
                                        </label>
                                        <div class="col-md-8"><select id="select_opt_level_1" placeholder="Harap pilih"></select></div>
                                    </div>
                                }
                                @if (!string.IsNullOrWhiteSpace(Model.Variant_Level_2.VALUE_JUDUL_VAR))
                                {
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Variasi 2")
                                        </label>
                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(m => m.Variant_Level_2.VALUE_JUDUL_VAR, new { @class = "form-control", disabled = "disabled", Value = Model.Variant_Level_2.VALUE_JUDUL_VAR, placeholder = "" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Opsi Tersedia")
                                        </label>
                                        <div class="col-md-8"><select id="select_opt_level_2" placeholder="Harap pilih"></select></div>
                                    </div>
                                }
                                @if (!string.IsNullOrWhiteSpace(Model.Variant_Level_3.VALUE_JUDUL_VAR))
                                {
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Variasi 3")
                                        </label>
                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                            @Html.TextBoxFor(m => m.Variant_Level_3.VALUE_JUDUL_VAR, new { @class = "form-control", disabled = "disabled", Value = Model.Variant_Level_3.VALUE_JUDUL_VAR, placeholder = "" })
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                            @($"Opsi Tersedia")
                                        </label>
                                        <div class="col-md-8"><select id="select_opt_level_3" placeholder="Harap pilih"></select></div>
                                    </div>
                                }
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                                <div class="form-group">
                                    <label class="col-md-12 col-sm-12 col-xs-12" style="font-size:large">
                                        Langkah-langkah setting barang variasi :
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-12 col-sm-12 col-xs-12">
                                        <b>1.</b> Pilihlah opsi-opsi yang tersedia untuk barang ini, jika sudah selesai, tekan tombol Mapping.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-3 col-sm-12 col-xs-12" style="padding-right:5px">
                                        <b>2.</b>
                                        <input type="button" class="btn btn-primary pull-right" id="proses_var_btn" style="width:78px; margin:0px;padding-left:10px;padding-right:10px" value="Mapping" onclick="prosesBarangVarPartial()" />
                                    </div>
                                    <label class="col-md-9 col-sm-9 col-xs-12">
                                        @($"Cocokkan variasi barang di Master Online dengan variasi yang tersedia di masing-masing Marketplace.")
                                    </label>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-3 col-sm-12 col-xs-12" style="padding-right:5px">
                                        <b>3.</b>
                                        <input type="button" class="btn btn-primary pull-right" id="proses_detail_var_btn" disabled="disabled" style="width:78px; margin:0px;padding-left:10px;padding-right:10px" value="Create" onclick="openKonfKodeBarangVariasi()" />
                                    </div>
                                    <label class="col-md-9 col-sm-9 col-xs-12">
                                        @($"Setelah anda menyelesaikan langkah nomor 2, silahkan tekan tombol Create untuk membuat harga dan gambar per variasi.")
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-12 col-sm-12 col-xs-12">
                                        <b>4.</b> Setting pada bagian Detail Barang Variasi, kemudian tekan tombol Simpan di bawah.
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            @{
                var code_kategori = Model.Kategori.KODE;
                var VariantOptMasterLv1 = Model.VariantOptMaster.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori).ToList();
                var VariantOptMasterLv2 = Model.VariantOptMaster.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori).ToList();
                var VariantOptMasterLv3 = Model.VariantOptMaster.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori).ToList();
            }
            <div id="elevenia_detail_tab_variant" class="tab-pane fade in">
            </div>
            <div id="blibli_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategoriBlibli", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategoriBlibli", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOBlibli", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOBlibli", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategoriBlibli", "Kategori Blibli", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriBlibli", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingBlibli = false;
                            var VariantPerMpBlibliLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "BLIBLI").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpBlibliLv1.Count() > 0)
                            {
                                adaSettingBlibli = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpBlibliLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Blibli</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOBlibliLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantBlibliLv1" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantBlibliLv1", textJudulVar1)
                                                                <div style="display:none">
                                                                    <select id="selectJudulVariantBlibliFCLv1" placeholder="Nama Variasi" required="required" style="display:none"></select>
                                                                    @Html.Hidden("txtJudulVariantBlibliFCLv1", "FAMILY COLOUR")
                                                                </div>
                                                                    
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th id="namaOpsiBlibli_1" colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th id="namaOpsiBlibli_mo_1" width="50%" style="border-right:none">Master Online</th>
                                                                <th id="namaOpsiBlibli_b_1" width="50%" style="border-right:none">Blibli</th>
                                                                <th id="namaOpsiBlibli_fc_1" width="33%" style="border-right:none;display:none">Blibli Color Family</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpBlibliLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpBlibliLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtOpsiMOBlibliLv1", textKetVar1, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <div class="tampungdatarecnum" data-recnum="@VariantPerMpBlibliLv1[i].RECNUM">
                                                                        <select id="selectVariantBlibliLv1_@(VariantPerMpBlibliLv1[i].RECNUM)" data-recnum="@VariantPerMpBlibliLv1[i].RECNUM" class="selectVariantBlibliLv1_" placeholder="Nama Variasi" required="required"></select>
                                                                        @Html.Hidden("txtVariantBlibliLv1_" + VariantPerMpBlibliLv1[i].RECNUM, VariantPerMpBlibliLv1[i].MP_VALUE_VAR, new { @class = "txtVariantBlibliLv1_" })
                                                                    </div>
                                                                </td>
                                                                <td class="td_opsiFC_1" style="display:none">
                                                                    <div class="tampungdatarecnum" data-recnum="@VariantPerMpBlibliLv1[i].RECNUM">
                                                                        <select id="selectVariantBlibliFCLv1_@(VariantPerMpBlibliLv1[i].RECNUM)" data-recnum="@VariantPerMpBlibliLv1[i].RECNUM" class="selectVariantBlibliFCLv1_" placeholder="Nama Variasi" required="required"></select>
                                                                        @Html.Hidden("txtVariantBlibliFCLv1_" + VariantPerMpBlibliLv1[i].RECNUM, VariantPerMpBlibliLv1[i].MP_VALUE_FC_VAR, new { @class = "txtVariantBlibliFCLv1_" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpBlibliLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "BLIBLI").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpBlibliLv2.Count() > 0)
                            {
                                adaSettingBlibli = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpBlibliLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Blibli</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOBlibliLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantBlibliLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantBlibliLv2", textJudulVar2)
                                                                <div style="display:none">
                                                                    <select id="selectJudulVariantBlibliFCLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantBlibliFCLv2", "FAMILY COLOUR")
                                                                </div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th id="namaOpsiBlibli_2" colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th id="namaOpsiBlibli_mo_2" width="33%" style="border-right:none">Master Online</th>
                                                                <th id="namaOpsiBlibli_b_2" width="33%" style="border-right:none">Blibli</th>
                                                                <th id="namaOpsiBlibli_fc_2" width="33%" style="border-right:none">Blibli Color Family</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpBlibliLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpBlibliLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtOpsiMOBlibliLv2", textKetVar2, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <div class="tampungdatarecnum" data-recnum="@VariantPerMpBlibliLv2[i].RECNUM">
                                                                        <select id="selectVariantBlibliLv2_@(VariantPerMpBlibliLv2[i].RECNUM)" data-recnum="@VariantPerMpBlibliLv2[i].RECNUM" class="selectVariantBlibliLv2_" placeholder="Nama Variasi" required="required"></select>
                                                                        @Html.Hidden("txtVariantBlibliLv2_" + VariantPerMpBlibliLv2[i].RECNUM, VariantPerMpBlibliLv2[i].MP_VALUE_VAR, new { @class = "txtVariantBlibliLv2_" })
                                                                    </div>
                                                                </td>
                                                                <td class="td_opsiFC_2" style="display:none">
                                                                    <div class="tampungdatarecnum" data-recnum="@VariantPerMpBlibliLv2[i].RECNUM">
                                                                        <select id="selectVariantBlibliFCLv2_@(VariantPerMpBlibliLv2[i].RECNUM)" data-recnum="@VariantPerMpBlibliLv2[i].RECNUM" class="selectVariantBlibliFCLv2_" placeholder="Nama Variasi" required="required"></select>
                                                                        @Html.Hidden("txtVariantBlibliFCLv2_" + VariantPerMpBlibliLv2[i].RECNUM, VariantPerMpBlibliLv2[i].MP_VALUE_FC_VAR, new { @class = "txtVariantBlibliFCLv2_" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpBlibliLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "BLIBLI").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpBlibliLv3.Count() > 0)
                            {
                                adaSettingBlibli = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpBlibliLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Blibli</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOBlibliLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantBlibliLv3" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantBlibliLv3", textJudulVar3)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Blibli</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpBlibliLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpBlibliLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOBlibliLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpBlibliLv3[i].RECNUM">
                                                                            <select id="selectVariantBlibliLv3_@(VariantPerMpBlibliLv3[i].RECNUM)" data-recnum="@VariantPerMpBlibliLv3[i].RECNUM" class="selectVariantBlibliLv3_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariantBlibliLv3_" + VariantPerMpBlibliLv3[i].RECNUM, VariantPerMpBlibliLv3[i].MP_VALUE_VAR, new { @class = "txtVariantBlibliLv3_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingBlibli)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_blibli" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarBlibli()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="lazada_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategoriLazada", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategoriLazada", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOLazada", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOLazada", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategoriLazada", "Kategori Lazada", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriLazada", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingLazada = false;
                            var VariantPerMpLazadaLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "LAZADA").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpLazadaLv1.Count() > 0)
                            {
                                adaSettingLazada = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpLazadaLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOLazadaLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantLazadaLv1" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantLazadaLv1", textJudulVar1)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpLazadaLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpLazadaLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOLazadaLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @*//change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                        @*<div class="tampungdatarecnum" data-recnum="@VariantPerMpLazadaLv1[i].RECNUM">*@
                                                                        @*<select id="selectVariantLazadaLv1_@(VariantPerMpLazadaLv1[i].RECNUM)" data-recnum="@VariantPerMpLazadaLv1[i].RECNUM" class="selectVariantLazadaLv1_" placeholder="Nama Variasi" required="required"></select>*@
                                                                        @*@Html.TextBox("txtVariantLazadaLv1_" + VariantPerMpLazadaLv1[i].RECNUM, VariantPerMpLazadaLv1[i].MP_VALUE_VAR, new { @class = "txtVariantLazadaLv1_", @style="display:none;" })*@

                                                                        @Html.TextBox("txtVariantLazadaLv1_" + VariantPerMpLazadaLv1[i].RECNUM, VariantPerMpLazadaLv1[i].MP_VALUE_VAR, new
                                                                        {
                                                                            @class = "form-control txtVariantLazadaLv1_"
                                                                            //@style = "display:none;"
                                                                        })
                                                                        @*</div>*@
                                                                        @*//change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpLazadaLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "LAZADA").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpLazadaLv2.Count() > 0)
                            {
                                adaSettingLazada = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpLazadaLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOLazadaLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantLazadaLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantLazadaLv2", textJudulVar2)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpLazadaLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpLazadaLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOLazadaLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @*//change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                        @*<div class="tampungdatarecnum" data-recnum="@VariantPerMpLazadaLv2[i].RECNUM">*@
                                                                        @*<select id="selectVariantLazadaLv2_@(VariantPerMpLazadaLv2[i].RECNUM)" data-recnum="@VariantPerMpLazadaLv2[i].RECNUM" class="selectVariantLazadaLv2_" placeholder="Nama Variasi" required="required"></select>*@
                                                                        @*@Html.Hidden("txtVariantLazadaLv2_" + VariantPerMpLazadaLv2[i].RECNUM, VariantPerMpLazadaLv2[i].MP_VALUE_VAR, new { @class = "txtVariantLazadaLv2_" })*@

                                                                        @Html.TextBox("txtVariantLazadaLv2_" + VariantPerMpLazadaLv2[i].RECNUM, VariantPerMpLazadaLv2[i].MP_VALUE_VAR, new
                                                                        {
                                                                            @class = "form-control txtVariantLazadaLv2_"
                                                                            //@style = "display:none;"
                                                                        })
                                                                        @*</div>*@
                                                                        @*//change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpLazadaLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "LAZADA").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpLazadaLv3.Count() > 0)
                            {
                                adaSettingLazada = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpLazadaLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOLazadaLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantLazadaLv3" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantLazadaLv3", textJudulVar3)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Lazada</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpLazadaLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpLazadaLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOLazadaLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @*//change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                        @*<div class="tampungdatarecnum" data-recnum="@VariantPerMpLazadaLv3[i].RECNUM">*@
                                                                        @*<select id="selectVariantLazadaLv3_@(VariantPerMpLazadaLv3[i].RECNUM)" data-recnum="@VariantPerMpLazadaLv3[i].RECNUM" class="selectVariantLazadaLv3_" placeholder="Nama Variasi" required="required"></select>*@
                                                                        @*@Html.Hidden("txtVariantLazadaLv3_" + VariantPerMpLazadaLv3[i].RECNUM, VariantPerMpLazadaLv3[i].MP_VALUE_VAR, new { @class = "txtVariantLazadaLv3_" })*@

                                                                        @Html.TextBox("txtVariantLazadaLv3_" + VariantPerMpLazadaLv3[i].RECNUM, VariantPerMpLazadaLv3[i].MP_VALUE_VAR, new
                                                                        {
                                                                            @class = "form-control txtVariantLazadaLv3_"
                                                                            //@style = "display:none;"
                                                                        })
                                                                        @*</div>*@
                                                                        @*//end change by nurul 26/2/2020, opsi variasi jadi textbox*@
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingLazada)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_lazada" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarLazada()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="shopee_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategoriShopee", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategoriShopee", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOShopee", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOShopee", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategoriShopee", "Kategori Shopee", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriShopee", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingShopee = false;
                            var VariantPerMpShopeeLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPEE").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpShopeeLv1.Count() > 0)
                            {
                                adaSettingShopee = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpShopeeLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOShopeeLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantShopeeLv1", textJudulVar1, new
                                                               {
                                                                   @class = "form-control txtJudulVariantShopeeLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpShopeeLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpShopeeLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOShopeeLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantShopeeLv1_" + VariantPerMpShopeeLv1[i].RECNUM, VariantPerMpShopeeLv1[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantShopeeLv1_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpShopeeLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPEE").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpShopeeLv2.Count() > 0)
                            {
                                adaSettingShopee = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpShopeeLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOShopeeLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantShopeeLv2", textJudulVar2, new
                                                               {
                                                                   @class = "form-control txtJudulVariantShopeeLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpShopeeLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpShopeeLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOShopeeLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantShopeeLv2_" + VariantPerMpShopeeLv2[i].RECNUM, VariantPerMpShopeeLv2[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantShopeeLv2_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpShopeeLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPEE").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpShopeeLv3.Count() > 0)
                            {
                                adaSettingShopee = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpShopeeLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOShopeeLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantShopeeLv3", textJudulVar3, new
                                                               {
                                                                   @class = "form-control txtJudulVariantShopeeLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopee</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpShopeeLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpShopeeLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOShopeeLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantShopeeLv3_" + VariantPerMpShopeeLv3[i].RECNUM, VariantPerMpShopeeLv3[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantShopeeLv3_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingShopee)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_shopee" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarShopee()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="e2cart_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategori82Cart", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategori82Cart", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMO82Cart", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMO82Cart", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategori82Cart", "Kategori 82Cart", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategori82Cart", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSetting82Cart = false;
                            var VariantPerMp82CartLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET.ToUpper() == "82CART").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMp82CartLv1.Count() > 0)
                            {
                                adaSetting82Cart = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMp82CartLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMO82CartLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariant82CartLv1" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariant82CartLv1", textJudulVar1)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMp82CartLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMp82CartLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMO82CartLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMp82CartLv1[i].RECNUM">
                                                                            <select id="selectVariant82CartLv1_@(VariantPerMp82CartLv1[i].RECNUM)" data-recnum="@VariantPerMp82CartLv1[i].RECNUM" class="selectVariant82CartLv1_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariant82CartLv1_" + VariantPerMp82CartLv1[i].RECNUM, VariantPerMp82CartLv1[i].MP_VALUE_VAR, new { @class = "txtVariant82CartLv1_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMp82CartLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET.ToUpper() == "82CART").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMp82CartLv2.Count() > 0)
                            {
                                adaSetting82Cart = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMp82CartLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMO82CartLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariant82CartLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariant82CartLv2", textJudulVar2)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMp82CartLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMp82CartLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMO82CartLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMp82CartLv2[i].RECNUM">
                                                                            <select id="selectVariant82CartLv2_@(VariantPerMp82CartLv2[i].RECNUM)" data-recnum="@VariantPerMp82CartLv2[i].RECNUM" class="selectVariant82CartLv2_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariant82CartLv2_" + VariantPerMp82CartLv2[i].RECNUM, VariantPerMp82CartLv2[i].MP_VALUE_VAR, new { @class = "txtVariant82CartLv2_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMp82CartLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET.ToUpper() == "82CART").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMp82CartLv3.Count() > 0)
                            {
                                adaSetting82Cart = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMp82CartLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMO82CartLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariant82CartLv3" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariant82CartLv3", textJudulVar3)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">82Cart</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMp82CartLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMp82CartLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMO82CartLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMp82CartLv3[i].RECNUM">
                                                                            <select id="selectVariant82CartLv3_@(VariantPerMp82CartLv3[i].RECNUM)" data-recnum="@VariantPerMp82CartLv3[i].RECNUM" class="selectVariant82CartLv3_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariant82CartLv3_" + VariantPerMp82CartLv3[i].RECNUM, VariantPerMp82CartLv3[i].MP_VALUE_VAR, new { @class = "txtVariant82CartLv3_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSetting82Cart)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_82Cart" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVar82Cart()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="shopify_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategorishopify", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategorishopify", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOshopify", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOshopify", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategorishopify", "Kategori shopify", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategorishopify", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingshopify = false;
                            var VariantPerMpshopifyLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPIFY").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpshopifyLv1.Count() > 0)
                            {
                                adaSettingshopify = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpshopifyLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOshopifyLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantshopifyLv1", textJudulVar1, new
                                                               {
                                                                   @class = "form-control txtJudulVariantshopifyLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpshopifyLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpshopifyLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOshopifyLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantshopifyLv1_" + VariantPerMpshopifyLv1[i].RECNUM, VariantPerMpshopifyLv1[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantshopifyLv1_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpshopifyLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPIFY").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpshopifyLv2.Count() > 0)
                            {
                                adaSettingshopify = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpshopifyLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOshopifyLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantshopifyLv2", textJudulVar2, new
                                                               {
                                                                   @class = "form-control txtJudulVariantshopifyLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpshopifyLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpshopifyLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOshopifyLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantshopifyLv2_" + VariantPerMpshopifyLv2[i].RECNUM, VariantPerMpshopifyLv2[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantshopifyLv2_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpshopifyLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "SHOPIFY").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpshopifyLv3.Count() > 0)
                            {
                                adaSettingshopify = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpshopifyLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOshopifyLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    @Html.TextBox("txtJudulVariantshopifyLv3", textJudulVar3, new
                                                               {
                                                                   @class = "form-control txtJudulVariantshopifyLv",
                                                                   placeholder = "Nama Variasi"
                                                               })
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Shopify</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpshopifyLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpshopifyLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOshopifyLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        @Html.TextBox("txtVariantshopifyLv3_" + VariantPerMpshopifyLv3[i].RECNUM, VariantPerMpshopifyLv3[i].MP_VALUE_VAR, new
                                                                   {
                                                                       @class = "form-control txtVariantshopifyLv3_",
                                                                       placeholder = "Nama Opsi"
                                                                   })
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingshopify)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_shopify" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarshopify()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="tokped_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategoriTokped", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategoriTokped", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOTokped", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOTokped", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategoriTokped", "Kategori Tokopedia", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriTokped", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingTokped = false;
                            var VariantPerMpTokpedLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "TOKPED").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpTokpedLv1.Count() > 0)
                            {
                                adaSettingTokped = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpTokpedLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOTokpedLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantTokpedLv1" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantTokpedLv1", textJudulVar1)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpTokpedLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpTokpedLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOTokpedLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpTokpedLv1[i].RECNUM">
                                                                            <select id="selectVariantTokpedLv1_@(VariantPerMpTokpedLv1[i].RECNUM)" data-recnum="@VariantPerMpTokpedLv1[i].RECNUM" class="selectVariantTokpedLv1_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariantTokpedLv1_" + VariantPerMpTokpedLv1[i].RECNUM, VariantPerMpTokpedLv1[i].MP_VALUE_VAR, new { @class = "txtVariantTokpedLv1_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpTokpedLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "TOKPED").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpTokpedLv2.Count() > 0)
                            {
                                adaSettingTokped = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpTokpedLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOTokpedLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantTokpedLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantTokpedLv2", textJudulVar2)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpTokpedLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpTokpedLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOTokpedLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpTokpedLv2[i].RECNUM">
                                                                            <select id="selectVariantTokpedLv2_@(VariantPerMpTokpedLv2[i].RECNUM)" data-recnum="@VariantPerMpTokpedLv2[i].RECNUM" class="selectVariantTokpedLv2_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariantTokpedLv2_" + VariantPerMpTokpedLv2[i].RECNUM, VariantPerMpTokpedLv2[i].MP_VALUE_VAR, new { @class = "txtVariantTokpedLv2_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpTokpedLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "TOKPED").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpTokpedLv3.Count() > 0)
                            {
                                adaSettingTokped = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpTokpedLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOTokpedLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantTokpedLv3" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantTokpedLv3", textJudulVar3)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">Tokopedia</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpTokpedLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpTokpedLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOTokpedLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpTokpedLv3[i].RECNUM">
                                                                            <select id="selectVariantTokpedLv3_@(VariantPerMpTokpedLv3[i].RECNUM)" data-recnum="@VariantPerMpTokpedLv3[i].RECNUM" class="selectVariantTokpedLv3_" placeholder="Nama Variasi" required="required"></select>
                                                                            @Html.Hidden("txtVariantTokpedLv3_" + VariantPerMpTokpedLv3[i].RECNUM, VariantPerMpTokpedLv3[i].MP_VALUE_VAR, new { @class = "txtVariantTokpedLv3_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingTokped)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_tokped" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarTokped()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
            <div id="jdid_detail_tab_variant" class="tab-pane fade in">
                <div class="row" style="padding-top:10px">
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="form-group" style="display:none">
                            @Html.Label("lblKodeKategoriJdid", "Kode Kategori", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtKodeKategoriJdid", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.Label("lblNamaKategoriMOJdid", "Kategori MO", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriMOJdid", Model.Kategori.KET, new { @class = "form-control", disabled = "disabled" })
                            </div>
                            @Html.Label("lblNamaKategoriJdid", "Kategori JDID", new { @class = "control-label col-md-2 col-sm-2 col-xs-12" })
                            <div class="col-md-4 col-sm-4 col-xs-12">
                                @Html.TextBox("txtNamaKategoriJdid", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        @{
                            var adaSettingJdid = false;
                            var VariantPerMpJdidLv1 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 1 && p.CATEGORY_MO == code_kategori && p.MARKET == "JDID").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpJdidLv1.Count() > 0)
                            {
                                adaSettingJdid = true;
                                var textJudulVar1 = "";
                                var judulVar1 = VariantPerMpJdidLv1.FirstOrDefault();
                                if (judulVar1 != null)
                                {
                                    textJudulVar1 = judulVar1.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOJdidLv1", Model.Variant_Level_1.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantJdidLv1" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantJdidLv1", textJudulVar1)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpJdidLv1.Count(); i++)
                                                            {
                                                                var textKetVar1 = "";
                                                                var KetVar1 = VariantOptMasterLv1.Where(p => p.KODE_VAR == VariantPerMpJdidLv1[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar1 != null)
                                                                {
                                                                    textKetVar1 = KetVar1.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOJdidLv1", textKetVar1, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpJdidLv1[i].RECNUM">
                                                                            <select id="selectVariantJdidLv1_@(VariantPerMpJdidLv1[i].RECNUM)" data-recnum="@VariantPerMpJdidLv1[i].RECNUM" class="selectVariantJdidLv1_" placeholder="Nama Opsi" required="required"></select>
                                                                            @Html.Hidden("txtVariantJdidLv1_" + VariantPerMpJdidLv1[i].RECNUM, VariantPerMpJdidLv1[i].MP_VALUE_VAR, new { @class = "txtVariantJdidLv1_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpJdidLv2 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 2 && p.CATEGORY_MO == code_kategori && p.MARKET == "JDID").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpJdidLv2.Count() > 0)
                            {
                                adaSettingJdid = true;
                                var textJudulVar2 = "";
                                var judulVar2 = VariantPerMpJdidLv2.FirstOrDefault();
                                if (judulVar2 != null)
                                {
                                    textJudulVar2 = judulVar2.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none;text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOJdidLv2", Model.Variant_Level_2.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantJdidLv2" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantJdidLv2", textJudulVar2)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpJdidLv2.Count(); i++)
                                                            {
                                                                var textKetVar2 = "";
                                                                var KetVar2 = VariantOptMasterLv2.Where(p => p.KODE_VAR == VariantPerMpJdidLv2[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar2 != null)
                                                                {
                                                                    textKetVar2 = KetVar2.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOJdidLv2", textKetVar2, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpJdidLv2[i].RECNUM">
                                                                            <select id="selectVariantJdidLv2_@(VariantPerMpJdidLv2[i].RECNUM)" data-recnum="@VariantPerMpJdidLv2[i].RECNUM" class="selectVariantJdidLv2_" placeholder="Nama Opsi" required="required"></select>
                                                                            @Html.Hidden("txtVariantJdidLv2_" + VariantPerMpJdidLv2[i].RECNUM, VariantPerMpJdidLv2[i].MP_VALUE_VAR, new { @class = "txtVariantJdidLv2_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }

                            var VariantPerMpJdidLv3 = Model.VariantPerMP.Where(p => p.LEVEL_VAR == 3 && p.CATEGORY_MO == code_kategori && p.MARKET == "JDID").OrderBy(p => p.RECNUM).ToList();
                            if (VariantPerMpJdidLv3.Count() > 0)
                            {
                                adaSettingJdid = true;
                                var textJudulVar3 = "";
                                var judulVar3 = VariantPerMpJdidLv3.FirstOrDefault();
                                if (judulVar3 != null)
                                {
                                    textJudulVar3 = judulVar3.MP_JUDUL_VAR;
                                }
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12">
                                        <table style="width:100%">
                                            <tr>
                                                <td style="width:50%; vertical-align:top !important;">
                                                    <table class="table table-bordered" style="width:100%;border-right:none" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="border-right:none; text-align:center">Judul Variasi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>
                                                                    @Html.TextBox("txtJudulMOJdidLv3", Model.Variant_Level_3.VALUE_JUDUL_VAR, new
                                                               {
                                                                   @class = "form-control",
                                                                   disabled = "disabled",
                                                                   @style = "border:none;background-color:#fff;box-shadow:none;"
                                                               })
                                                                </td>
                                                                <td>
                                                                    <select id="selectJudulVariantJdidLv3" placeholder="Nama Variasi" required="required"></select>
                                                                    @Html.Hidden("txtJudulVariantJdidLv3", textJudulVar3)
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </td>
                                                <td style="width:50%; vertical-align:top !important">
                                                    <table class="table table-bordered" style="width:100%" role="grid">
                                                        <thead>
                                                            <tr>
                                                                <th colspan="2" width="100%" style="text-align:center">Nama Opsi</th>
                                                            </tr>
                                                            <tr>
                                                                <th width="50%" style="border-right:none">Master Online</th>
                                                                <th width="50%" style="border-right:none">JDID</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @for (int i = 0; i < VariantPerMpJdidLv3.Count(); i++)
                                                            {
                                                                var textKetVar3 = "";
                                                                var KetVar3 = VariantOptMasterLv3.Where(p => p.KODE_VAR == VariantPerMpJdidLv3[i].KODE_VAR).FirstOrDefault();
                                                                if (KetVar3 != null)
                                                                {
                                                                    textKetVar3 = KetVar3.KET_VAR;
                                                                }
                                                                <tr>
                                                                    <td>
                                                                        @Html.TextBox("txtOpsiMOJdidLv3", textKetVar3, new
                                                                   {
                                                                       @class = "form-control",
                                                                       disabled = "disabled",
                                                                       @style = "border:none;background-color:#fff;box-shadow:none;"
                                                                   })
                                                                    </td>
                                                                    <td>
                                                                        <div class="tampungdatarecnum" data-recnum="@VariantPerMpJdidLv3[i].RECNUM">
                                                                            <select id="selectVariantJdidLv3_@(VariantPerMpJdidLv3[i].RECNUM)" data-recnum="@VariantPerMpJdidLv3[i].RECNUM" class="selectVariantJdidLv3_" placeholder="Nama Opsi" required="required"></select>
                                                                            @Html.Hidden("txtVariantJdidLv3_" + VariantPerMpJdidLv3[i].RECNUM, VariantPerMpJdidLv3[i].MP_VALUE_VAR, new { @class = "txtVariantJdidLv3_" })
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            }
                            if (adaSettingJdid)
                            {
                                <div class="form-group">
                                    <div class="col-md-12 col-sm-12 col-xs-12" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                        <input type="button" class="btn btn-primary pull-right" id="save_map_var_jdid" disabled="disabled" style="margin:0px;padding-left:10px;padding-right:10px" value="Simpan" onclick="SaveMapVarJdid()" />
                                    </div>
                                </div>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
