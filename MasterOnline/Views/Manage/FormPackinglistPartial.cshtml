@using System.Globalization
@using MasterOnline.ViewModels

@model PackingListViewModel

@Html.HiddenFor(m => m.packingList.RecNum)

<style>
    @@media screen and (max-width: 445px) {
        .brgtblpromofrm {
            width: 42%;
        }
    }

    @@media screen and (max-width: 375px) {
        .brgtblpromofrm {
            width: 34%;
        }
    }

    @@media screen and (max-width: 325px) {
        .brgtblpromofrm {
            width: 28%;
        }
    }
</style>

<script type="text/javascript">
    $(document).ready(function () {
        //Initialize();
        RefreshSemuaPesananMPPacking();

        $('#pesanan_detail_tab_focus').click();
    });

    function RefreshSemuaPesananMPPacking() {
        RefreshPackingPesananTokped1();
        RefreshPackingPesananLazada1();
        RefreshPackingPesananShopee1();
        RefreshPackingPesananBlibli1();
        RefreshPackingPesananJDID1();
    }

    function RefreshPackingPesananTokped1() {
        var $link = '@Html.Raw(Url.Action("RefreshTablePackingPesananMP", "Manage", new { nama_cust="15", bukti = "replaceBuktiPacking" }))';
        $link = $link.replace("replaceBuktiPacking", encodeURIComponent($('#packingList_NO_BUKTI').val()));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                //$('#loading_barang_tab').show();
            },
            success: function (response) {
                $('#packing_pesanan_tokped_content').html(response);
                //$('#loading_barang_tab').hide();
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }
    function RefreshPackingPesananLazada1() {
        var $link = '@Html.Raw(Url.Action("RefreshTablePackingPesananMP", "Manage", new { nama_cust = "7", bukti = "replaceBuktiPacking" }))';
        $link = $link.replace("replaceBuktiPacking", encodeURIComponent($('#packingList_NO_BUKTI').val()));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                //$('#loading_barang_tab').show();
            },
            success: function (response) {
                $('#packing_pesanan_lazada_content').html(response);
                //$('#loading_barang_tab').hide();
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }

    function RefreshPackingPesananShopee1() {
        var $link = '@Html.Raw(Url.Action("RefreshTablePackingPesananMP", "Manage", new { nama_cust = "17", bukti = "replaceBuktiPacking" }))';
        $link = $link.replace("replaceBuktiPacking", encodeURIComponent($('#packingList_NO_BUKTI').val()));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                //$('#loading_barang_tab').show();
            },
            success: function (response) {
                $('#packing_pesanan_shopee_content').html(response);
                //$('#loading_barang_tab').hide();
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }
    function RefreshPackingPesananBlibli1() {
        var $link = '@Html.Raw(Url.Action("RefreshTablePackingPesananMP", "Manage", new { nama_cust = "16", bukti = "replaceBuktiPacking" }))';
        $link = $link.replace("replaceBuktiPacking", encodeURIComponent($('#packingList_NO_BUKTI').val()));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                //$('#loading_barang_tab').show();
            },
            success: function (response) {
                $('#packing_pesanan_blibli_content').html(response);
                //$('#loading_barang_tab').hide();
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }

    //add by nurul 23/7/2020
    function refreshTablePackingListTabPesanan(nobuk) {
        var $link = '@Html.Raw(Url.Action("refreshTablePackingTabPesanan", "Manage", new { bukti = "replacebukti", search = "replacesearch", filter = "replacefilter", filtervalue = "replacefiltervalue" }))';
        $link = $link.replace("replacebukti", encodeURIComponent(nobuk));
        $link = $link.replace("replacesearch", encodeURIComponent($('#search_packing').val()));
        //$link = $link.replace("replacefilter", encodeURIComponent(null));
        //$link = $link.replace("replacefiltervalue", encodeURIComponent(null));
        var filterby = get_packing_filterby();
        var filtervalue = get_packing_filtervalue(filterby);
        $link = $link.replace("replacefilter", encodeURIComponent(filterby));
        $link = $link.replace("replacefiltervalue", encodeURIComponent(filtervalue));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                $('#table-packing-tab-pesanan').hide();
                //$('#loading_faktur_tab').show();
            },
            success: function (response) {
                $('#table-packing-tab-pesanan').html(response);
                //$('#loading_faktur_tab').hide();
                $('#table-packing-tab-pesanan').show();

                //add by nurul 23/7/2020
                $('#filter_packing_field').change(function () {
                    var filterBy = $(this).val();
                    switch (filterBy) {
                        case "kirim":
                            $('#filter_packing_kirim_field_option_div').show();
                            $('#filter_packing_print_field_option_div').hide();
                            $('#filter_packing_kirim').val('Harap Pilih');
                            break;
                        case "print":
                            $('#filter_packing_kirim_field_option_div').hide();
                            $('#filter_packing_print_field_option_div').show();
                            $('#filter_packing_print').val('Harap Pilih');
                            break;
                        default:
                            $('#filter_packing_kirim_field_option_div').hide();
                            $('#filter_packing_print_field_option_div').hide();
                            break;
                    }

                });
                $('#filter_packing_kirim').change(function () {
                    if ($('#filter_packing_kirim').val() != "Harap Pilih" && $('#filter_packing_field').val() != "Harap Pilih") {
                        SearchTablePackingListTabPesanan();
                    }
                });
                $('#filter_packing_print').change(function () {
                    if ($('#filter_packing_print').val() != "Harap Pilih" && $('#filter_packing_field').val() != "Harap Pilih") {
                        SearchTablePackingListTabPesanan();
                    }
                });

                $('#search_packing').keypress(function (e) {
                    var key = e.which;
                    if (key == 13)// the enter key code
                    {
                        SearchTablePackingListTabPesanan();
                        return false;
                    }
                });
                $('#search_packing_click').click(function () {
                    SearchTablePackingListTabPesanan();
                });
                //end add by nurul 23/7/2020

                if ($FocusTab == 2) {
                    $('rekap_barang_tab_focus').click();
                }
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }

    function get_packing_filterby() {
        return $('#filter_packing_field').val();
    }
    function get_packing_filtervalue(filterby) {
        var filtervalue = "";
        switch (filterby) {
            case "kirim":
                filtervalue = $('#filter_packing_kirim').val();
                break;
            case "print":
                filtervalue = $('#filter_packing_print').val();
                break;
            default:
                break;
        }
        return filtervalue;
    }
    function SearchTablePackingListTabPesanan() {
        var $link = '@Html.Raw(Url.Action("refreshTablePackingTabPesanan", "Manage", new { bukti = "replacebukti", search = "replacesearch", filter = "replacefilter", filtervalue = "replacefiltervalue" }))';
        $link = $link.replace("replacebukti", encodeURIComponent($('#packingList_NO_BUKTI').val()));
        $link = $link.replace("replacesearch", encodeURIComponent($('#search_packing').val()));
        var filterby = get_packing_filterby();
        var filtervalue = get_packing_filtervalue(filterby);
        $link = $link.replace("replacefilter", encodeURIComponent(filterby));
        $link = $link.replace("replacefiltervalue", encodeURIComponent(filtervalue));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                $('#table-packing-tab-pesanan').hide();
                //$('#loading_faktur_tab').show();
            },
            success: function (response) {
                $('#table-packing-tab-pesanan').html(response);
                //$('#loading_faktur_tab').hide();
                $('#table-packing-tab-pesanan').show();


            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }

    function RefreshPackingTabPesanan() {
        $('#search_packing').val('');
        $('#filter_packing_field').val('Harap Pilih').change();
        var $link = '@Html.Raw(Url.Action("refreshTablePackingTabPesanan", "Manage", new { bukti = "replacebukti", search = "replacesearch", filter = "replacefilter", filtervalue = "replacefiltervalue" }))';
        $link = $link.replace("replacebukti", encodeURIComponent($('#packingList_NO_BUKTI').val()));
        $link = $link.replace("replacesearch", encodeURIComponent($('#search_packing').val()));
        $link = $link.replace("replacefilter", encodeURIComponent(null));
        $link = $link.replace("replacefiltervalue", encodeURIComponent(null));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                $('#table-packing-tab-pesanan').hide();
                //$('#loading_faktur_tab').show();
            },
            success: function (response) {
                $('#table-packing-tab-pesanan').html(response);
                //$('#loading_faktur_tab').hide();
                $('#table-packing-tab-pesanan').show();


            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }

    function printRekap() {
            var link = '@Url.Action("LihatRekapPackingList", "Manage", new {nobuk = "replaceId" })';
            link = link.replace("replaceId", $('#packingList_NO_BUKTI').val());
            link += "&mode=" + $('input[name="printType"]:checked').val();
            var win = encodeURIComponent(window.open(link, '_blank'));
            if (win) {
                $('#modalPrint').modal('hide');
                win.focus();
            } else {
                alert('Please allow popups for this website');
            }
    }

    function tutupModalPrint() {
        $('#modalPrint').modal('hide');
    }
    //end add by nurul 23/7/2020

    function RefreshPackingPesananJDID1() {
        var $link = '@Html.Raw(Url.Action("RefreshTablePackingPesananMP", "Manage", new { nama_cust = "19", bukti = "replaceBuktiPacking" }))';
        $link = $link.replace("replaceBuktiPacking", encodeURIComponent($('#packingList_NO_BUKTI').val()));

        $.ajax({
            type: "GET",
            url: $link,
            beforeSend: function () {
                //$('#loading_barang_tab').show();
            },
            success: function (response) {
                $('#packing_pesanan_jdid_content').html(response);
                //$('#loading_barang_tab').hide();
            },
            error: function (xhr, status, error) {
                console.log(error);
            }
        });
    }
    
</script>
<div class="form-horizontal" id="header-packing">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.packingList.NO_BUKTI, "No. Bukti", new { @class = "col-md-4 col-sm-4 col-xs-12 control-label" })
                <div class="col-md-6 col-sm-6 col-xs-12">
                    @Html.HiddenFor(m => m.packingList.NO_BUKTI)
                    @if (Model.packingList != null)
                    {
                        <input type="text" value="@Model.packingList.NO_BUKTI" disabled class="form-control" />
                    }
                    else
                    {
                        <input type="text" value="[AUTO]" disabled class="form-control" />
                    }
                </div>
            </div>
        </div>
        @*<div class="col-md-6">
                <div class="form-group">
                    <div class="col-md-6 col-sm-6 col-xs-1"></div>
                    <div class="col-md-6 col-sm-6 col-xs-11">
                        @if (Model.listRekapBarang.Count > 0)
                        {
                            <button id="btnPrint" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalPrint">Print</button>
                        }
                        else
                        {
                            <button id="btnPrint" type="button" class="btn btn-primary" disabled data-toggle="modal" data-target="#modalPrint">Print</button>
                        }
                    </div>
                </div>
            </div>*@
    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                @Html.LabelFor(m => m.packingList.TGL, "Tanggal", new { @class = "col-md-4 col-sm-4 col-xs-12 control-label" })
                <div class="col-md-6 col-sm-6 col-xs-12">
                    @Html.HiddenFor(m => m.packingList.TGL)
                    <div class="input-group date">
                        <input type="text" id="TGL" class="form-control" />
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        @*<div class="col-md-6">
                <div class="form-group">
                    <div class="col-md-6 col-sm-6 col-xs-1"></div>
                    <div class="col-md-6 col-sm-6 col-xs-11">
                        @if (Model.listDetailPacking.Count > 0)
                        {
                            <button id="btnProses" type="button" class="btn btn-primary" onclick="prosesDetail()">Proses</button>
                        }
                        else
                        {
                            <button id="btnProses" type="button" class="btn btn-primary" disabled onclick="prosesDetail()">Proses</button>
                        }
                    </div>
                </div>
            </div>*@
    </div>
    @if (Model?.packingList?.RecNum != null)
    {
        <div id="btn-simpan-perubahan-row" class="row" style="display: none;">
            <div class="col-lg-4"></div>
            <div class="col-lg-4"></div>
            <div class="col-lg-4">
                <div class="form-group">
                    <div class="col-md-4"></div>
                    <div class="col-md-8">
                        <button id="btn-simpan-perubahan" type="button" class="btn btn-success btn-block">Simpan Perubahan</button>
                    </div>
                </div>
            </div>
        </div>
    }
    <hr />
</div>
@Html.HiddenFor(m => m.detailPackingList.TGL_INPUT, new { Value = DateTime.Now.ToString("dd/MM/yyyy") })

<div class="row" style="margin-top: 15px;" id="detail-packing">
    <div class="x_content">
        <ul id="detail-packinglist-tabs" class="nav nav-tabs">
            @{
            var totalPesanan = Model.listDetailPacking.Count();
            }
            <li class="active"><a data-toggle="tab" id="pesanan_detail_tab_focus" href="#pesanan_detail_tab" aria-expanded="true" onclick="refreshTablePackingListTabPesanan('@Model.packingList.NO_BUKTI')">Pesanan<span>(@totalPesanan)</span></a></li>
            @if (Model.listRekapBarang.Count > 0)
            {
            var totalRekap = Model.listRekapBarang.Count();
            var totalTokopedia = Model.listDetailPacking.Where(a => a.MARKETPLACE.Contains("Tokopedia")).Count();
            var totalLazada = Model.listDetailPacking.Where(a => a.MARKETPLACE.Contains("Lazada")).Count();
            var totalShopee = Model.listDetailPacking.Where(a => a.MARKETPLACE.Contains("Shopee")).Count();
            var totalBlibli = Model.listDetailPacking.Where(a => a.MARKETPLACE.Contains("Blibli")).Count();
            var totalJDID = Model.listDetailPacking.Where(a => a.MARKETPLACE.Contains("JD.ID")).Count();

            <li><a data-toggle="tab" id="rekap_barang_tab_focus" href="#rekap_barang_tab" aria-expanded="false">Rekap Barang(<span>@totalRekap</span>)</a></li>
            <li id="li_pesanan_tokped_tab_focus" style="display:none"><a data-toggle="tab" id="pesanan_tokped_tab_focus" href="#packing_pesanan_tokped" aria-expanded="false">Tokopedia(<span>@totalTokopedia</span>)</a></li>
            <li id="li_pesanan_lazada_tab_focus" style="display:none"><a data-toggle="tab" id="pesanan_lazada_tab_focus" href="#packing_pesanan_lazada" aria-expanded="false">Lazada(<span>@totalLazada</span>)</a></li>
            <li id="li_pesanan_shopee_tab_focus" style="display:none"><a data-toggle="tab" id="pesanan_shopee_tab_focus" href="#packing_pesanan_shopee" aria-expanded="false">Shopee(<span>@totalShopee</span>)</a></li>
            <li id="li_pesanan_blibli_tab_focus" style="display:none"><a data-toggle="tab" id="pesanan_blibli_tab_focus" href="#packing_pesanan_blibli" aria-expanded="false">Blibli(<span>@totalBlibli</span>)</a></li>
            <li id="li_pesanan_jdid_tab_focus" style="display:none"><a data-toggle="tab" id="pesanan_jdid_tab_focus" href="#packing_pesanan_jdid" aria-expanded="false">JD.ID(<span>@totalJDID</span>)</a></li>
            }
            else
            {
            <li><a data-toggle="tab tooltip" id="rekap_barang_tab_focus" href="#rekap_barang_tab" aria-expanded="false" class="disabled-tab" title="Pilih pesanan yang akan masuk packing list terlebih dahulu">Rekap Barang</a></li>
            }
            @*@if (Model.listRekapBarang.Count > 0)
                {
                    <li style="margin-left:650px;">
                        <button id="btnPrint" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalPrint">Print</button>
                    </li>
                }
                else
                {
                    <li style="margin-left:650px;">
                        <button id="btnPrint" type="button" class="btn btn-primary" disabled data-toggle="modal" data-target="#modalPrint">Print</button>
                    </li>
                }*@
        </ul>
        <div class="tab-content">
            <div id="pesanan_detail_tab" class="tab-pane fade active in">
                <div class="row">
                    <div class="col-lg-4 col-sm-6">
                        <div class="input-group">
                            <input id="search_packing" type="text" class="form-control" placeholder="Pencarian">
                            <span class="input-group-btn">
                                <button type="button" id="search_packing_click" class="btn btn-primary">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class="col-lg-5">
                    </div>
                    <div class="col-lg-1">
                        
                            <button id="btnRefreshTabPesanan" type="button" class="btn btn-default" onclick="RefreshPackingTabPesanan()" style="width:75px">Refresh</button>
                        
                    </div>
                    <div class="col-lg-2">
                        <button type="button" id="btnPackingPesanan" class="btn btn-primary" onclick="openModalPacking();">Scan Barcode Packing</button>
                    </div>
                </div>
                <div class="row">
                    <label class="col-lg-1 col-sm-6 col-md-1" style="margin-top:10px;">Filter</label>
                    <div class="col-lg-2 col-sm-6 col-md-2">
                        <select class="form-control" id="filter_packing_field" required="required">
                            <option>Harap Pilih</option>
                            <option value="kirim">Status Kirim</option>
                            <option value="print">Status Print</option>
                        </select>
                    </div>
                    <div class="col-lg-2 col-sm-6 col-md-2">
                        <div class="col-12" id="filter_packing_kirim_field_option_div" style="display:none">
                            <select class="form-control" id="filter_packing_kirim" required="required">
                                <option>Harap Pilih</option>
                                <option value="0">Dalam Proses</option>
                                <option value="1">Gagal Proses</option>
                                <option value="2">Siap Kirim</option>
                            </select>
                        </div>
                        <div class="col-12" id="filter_packing_print_field_option_div" style="display:none">
                            <select class="form-control" id="filter_packing_print" required="required">
                                <option>Harap Pilih</option>
                                <option value="1">Sudah</option>
                                <option value="0">Belum</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-5"></div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-12">
                        <div id="table-packing-tab-pesanan"></div>
                        @*<div class="hscroll table-responsive brgtblpromofrm">
                                <table id="table_tambah_packinglist" class="table table-bordered" role="grid">
                                    <thead>
                                        <tr>
                                            <th width="70">No. Pesanan</th>
                                            <th width="100">No. Referensi</th>
                                            <th width="80">Tanggal Pesanan</th>
                                            <th width="90">Marketplace</th>
                                            <th width="120">Pembeli</th>
                                            <th width="80">Status Kirim</th>
                                            <th width="80">Status Print</th>
                                            <th width="100">Scan Barcode</th>
                                            @*<th width="80">No. Resi</th>
                                            @*<th width="45">Simpan</th>
                                            @* <th width="45">Hapus</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @foreach (var detPackinglist in Model?.listDetailPacking.Where(pb => pb.NO_BUKTI == Model?.packingList?.NO_BUKTI)?.ToList())
                                        {
                                            var status_kirim = "Dalam Proses";
                                            var status_print = "";

                                            switch (detPackinglist.SO_STATUS_KIRIM)
                                            {
                                                case "0":
                                                    status_kirim = "Dalam Proses";
                                                    break;
                                                case "1":
                                                    status_kirim = "Gagal Proses";
                                                    break;
                                                case "2":
                                                    status_kirim = "Siap Kirim";
                                                    break;
                                                default:
                                                    status_kirim = "";
                                                    break;
                                            }
                                            switch (detPackinglist.STATUS_PRINT)
                                            {
                                                case "1":
                                                    status_print = "Sudah";
                                                    break;
                                                default:
                                                    status_print = "Belum";
                                                    break;
                                            }
                                            <tr data-packing-id="brg-@detPackinglist.RecNum">
                                                <td>
                                                    @detPackinglist.NO_PESANAN
                                                </td>
                                                <td>@detPackinglist.NO_REFERENSI</td>
                                                <td>
                                                    @detPackinglist.TGL_PESANAN.Value.ToString("dd/MM/yyyy")
                                                </td>
                                                <td>
                                                    @detPackinglist.MARKETPLACE
                                                </td>
                                                <td>
                                                    @detPackinglist.PEMBELI
                                                </td>
                                                @*<td>
                                                        @detPackinglist.SO_TRACKING_NUMBER
                                                    </td>
                                                <td>
                                                    @status_kirim
                                                </td>
                                                <td>@status_print</td>
                                                <td>@detPackinglist.BARCODE</td>

                                                @*<td class="edit-hapus-col">
                                                        <button type="button" class="btn btn-primary" disabled="disabled">
                                                            <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                                                        </button>
                                                    </td>
                                                @* <td class="edit-hapus-col">
                                                @*     <button class="btn btn-danger" type="button" data-toggle="modal" data-target="#konfHapusPesanan" onclick="passKodeInDb('@detPackinglist.RecNum')">
                                                @*         <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                                @*     </button>
                                                @* </td>
                                            </tr>
                                        }
                                        <tr data-packing-id="0" id="trNewData" style="display:none">
                                            @Html.HiddenFor(m => m.detailPackingList.NO_BUKTI)
                                            @Html.HiddenFor(m => m.detailPackingList.RecNum)
                                            @Html.HiddenFor(m => m.detailPackingList.TGL_PESANAN)
                                            @Html.HiddenFor(m => m.detailPackingList.PEMBELI)
                                            @Html.HiddenFor(m => m.detailPackingList.MARKETPLACE)
                                            <td style="width: 140px; max-width: 140px;">
                                                @*<div id="BRG" class="selectivity-input" tabindex="0" style="width: 200px; max-width: 200px;"></div>
                                                <div id="PESANAN" class="selectivity-input" tabindex="0"></div>
                                                @Html.HiddenFor(m => m.detailPackingList.NO_PESANAN)
                                            </td>
                                            <td class="tgl-pesanan" style="width: 130px; max-width: 130px;"></td>
                                            <td class="pembeli-pesanan" style="width: 130px; max-width: 130px;"></td>
                                            <td class="marketplace-pesanan" style="width: 30px; max-width: 30px;"></td>
                                            <td class="edit-hapus-col">
                                                <button type="button" class="btn btn-primary" disabled="disabled" onclick="simpanpesanan('pesanan-0')">
                                                    <span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span>
                                                </button>
                                            </td>
                                            <td class="edit-hapus-col">
                                                <button class="btn btn-danger" disabled="disabled" data-toggle="modal" data-target="#konfHapusBarang">
                                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>*@
                    </div>
                </div>
            </div>
            <div id="rekap_barang_tab" class="tab-pane fade in">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="col-md-9"></div>
                        <div class="col-md-2">
                            <button type="button" id="btnPickingBarang" class="btn btn-primary pull-right" onclick="openModalPicking();">Scan Barcode Picking</button>
                        </div>
                        <div class="col-md-1">
                            @if (Model.listRekapBarang.Count > 0)
                            {
                                <button id="btnPrint" type="button" class="btn btn-primary pull-left" data-toggle="modal" data-target="#modalPrint">Print</button>
                            }
                            else
                            {
                                <button id="btnPrint" type="button" class="btn btn-primary pull-left" disabled data-toggle="modal" data-target="#modalPrint">Print</button>
                            }
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="hscroll table-responsive brgtblpromofrm">
                            <table id="table_rekap_packinglist" class="table table-bordered" role="grid">
                                <thead>
                                    <tr>
                                        <th width="70">Kode Barang</th>
                                        <th width="100">Kode Barcode</th>
                                        <th width="250">Nama Barang</th>
                                        <th width="70">Lokasi Rak</th>
                                        <th width="50">QTY</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var rekapPackinglist in Model?.listRekapBarang?.ToList())
                                    {
                                    <tr>
                                        <td>@rekapPackinglist.BRG</td>
                                        <td>@rekapPackinglist.BARCODE</td>
                                        <td>@rekapPackinglist.NAMA_BARANG</td>
                                        <td>@rekapPackinglist.RAK</td>
                                        <td>@rekapPackinglist.QTY</td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div id="packing_pesanan_tokped" class="tab-pane fade in">
                <div class="col-lg-12" id="packing_pesanan_tokped_content">

                </div>
            </div>
            <div id="packing_pesanan_lazada" class="tab-pane fade in">
                <div class="col-lg-12" id="packing_pesanan_lazada_content">

                </div>
            </div>
            <div id="packing_pesanan_shopee" class="tab-pane fade in">
                <div class="col-lg-12" id="packing_pesanan_shopee_content">

                </div>
            </div>
            <div id="packing_pesanan_jdid" class="tab-pane fade in">
                <div class="col-lg-12" id="packing_pesanan_jdid_content">

                </div>
            </div>
            <div id="packing_pesanan_blibli" class="tab-pane fade in">
                <div class="col-lg-12" id="packing_pesanan_blibli_content">

                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modalPrint" tabindex="-1" role="dialog" aria-labelledby="modalPrintLabel">
    <div class="modal-dialog" role="document" style="height:100px">
        <div class="modal-content modalphapusp">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="modalPrintLabel">Print Picking dan Packing List</h4>
            </div>
            <div class="modal-body">
                <div class="row ">
                    <div class="col-md-3"></div>
                    <div class="col-md-1 text-right">
                        <input type="radio" style="height:20px; width:20px;" name="printType" value="0" checked />
                    </div>
                    <div class="col-md-5 text-left" style="padding-top: 5px;">
                        Picking List (Rekap per Barang)
                    </div>
                    <div class="col-md-3"></div>
                </div>
                <div class="row ">
                    <div class="col-md-3"></div>
                    <div class="col-md-1 text-right">
                        <input type="radio" style="height:20px; width:20px;" name="printType" value="1" />
                    </div>
                    <div class="col-md-5 text-left" style="padding-top: 5px;">
                        Packing List (Detail per Pesanan)
                    </div>
                    <div class="col-md-3"></div>
                </div>

                @*<div class="row">
                        <div class="col-md-2">
                        </div>
                        <div class="col-md-2" style="padding-bottom:10px">
                            <label class="checkbox-container">
                                <input id="ctk_brg" type="checkbox" class="cbx" name="cbx-print-brg-only" />
                                <span id="ctk_brg" class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-1" style="padding-top: 7px;">
                            Picking List (Rekap per Barang)
                        </div>
                        <div class="col-md-2" style="padding-bottom:10px">
                            <label class="checkbox-container">
                                <input id="ctk_pesanan" type="checkbox" class="cbx" name="cbx-print-pesanan-only" />
                                <span id="ctk_pesanan" class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-4" style="padding-top: 7px;">
                            Packing List (Detail per Pesanan)
                        </div>
                        <div class="col-md-1">
                        </div>
                    </div>*@
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" onclick="tutupModalPrint()">Tutup</button>
                <button type="button" class="btn btn-success" onclick="printRekap();">Print</button>
            </div>
        </div>
    </div>
</div>


