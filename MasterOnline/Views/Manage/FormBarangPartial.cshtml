@using System.Globalization
@using MasterOnline.ViewModels
@model MasterOnline.ViewModels.BarangViewModel
@{
    //var dataSession = Session["SessionInfo"] as AccountUserViewModel;
    var username = "";
    var context = new MoDbContext("");
    //if (dataSession?.User != null)
    //{
    //    //var accId = context.User.Single(u => u.Username == dataSession.User.Username).AccountId;
    //    var accId = context.User.Single(u => u.UserId == dataSession.User.UserId).AccountId;
    //    username = context.Account.Single(a => a.AccountId == accId).Username;
    //    //remark by calvin 3 desember 2018
    //    //context.Dispose();
    //    //end remark by calvin 3 desember 2018
    //}
    //else
    //{
    //    username = dataSession?.Account.Username;
    //}

    var sessionAccount = HttpContext.Current.Session["SessionAccount"];
    var sessionAccountUserID = HttpContext.Current.Session["SessionAccountUserID"];
    var sessionAccountUserName = HttpContext.Current.Session["SessionAccountUserName"];
    var sessionAccountEmail = HttpContext.Current.Session["SessionAccountEmail"];
    var sessionAccountTglSub = HttpContext.Current.Session["SessionAccountTglSub"];
    var sessionAccountKodeSub = HttpContext.Current.Session["SessionAccountKodeSub"];
    var sessionAccountDataSourcePathDebug = HttpContext.Current.Session["SessionAccountDataSourcePathDebug"];
    var sessionAccountDataSourcePath = HttpContext.Current.Session["SessionAccountDataSourcePath"];
    var sessionAccountDatabasePathErasoft = HttpContext.Current.Session["SessionAccountDatabasePathErasoft"];

    var sessionUser = System.Web.HttpContext.Current.Session["SessionUser"];
    var sessionUserUserID = System.Web.HttpContext.Current.Session["SessionUserUserID"];
    var sessionUserUsername = System.Web.HttpContext.Current.Session["SessionUserUsername"];
    var sessionUserEmail = System.Web.HttpContext.Current.Session["SessionUserEmail"];
    var sessionUserAccountID = System.Web.HttpContext.Current.Session["SessionUserAccountID"];

    if (sessionUser != null)
    {
        var usrID = Convert.ToInt64(sessionUserUserID);
        var accId = context.User.Single(u => u.UserId == usrID).AccountId;
        username = context.Account.Single(a => a.AccountId == accId).Username;
    }
    else
    {
        username = sessionAccountUserName.ToString();
    }

    if (username.Length > 20)
    {
        username = username.Substring(0, 17) + "...";
    }
}
@Html.AntiForgeryToken()
@Html.HiddenFor(m => m.Stf02.ID)
@Html.HiddenFor(m => m.Stf02.HPP, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.HBELI, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.HBESAR, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.HKECIL, new { Value = 0 })
@*@Html.HiddenFor(m => m.Stf02.TYPE, new { Value = 3 })*@
@Html.HiddenFor(m => m.Stf02.KLINK, new { Value = 1 })
@Html.HiddenFor(m => m.Stf02.HP_STD, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.QPROD, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.ISI3, new { Value = 3 })
@Html.HiddenFor(m => m.Stf02.ISI4, new { Value = 1 })
@Html.HiddenFor(m => m.Stf02.TOLERANSI, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.H_STN_3, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.H_STN_4, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.SS, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.METODA_HPP_PER_SN, new { Value = false })
@Html.HiddenFor(m => m.Stf02.HNA_PPN, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.LABA, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.DEFAULT_STN_HRG_JUAL, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.DEFAULT_STN_JUAL, new { Value = 0 })
@Html.HiddenFor(m => m.Stf02.USERNAME, new { Value = username })
@Html.HiddenFor(m => m.Stf02.ISI, new { Value = 1 })
@Html.HiddenFor(m => m.Stf02.STN)
@Html.HiddenFor(m => m.Stf02.MAXI, new { Value = 99 })
@Html.HiddenFor(m => m.Stf02.Metoda, new { Value = "1" })
@Html.HiddenFor(m => m.Stf02.Tgl_Input, new { Value = DateTime.Now.ToString("dd/MM/yyyy") })
@Html.HiddenFor(m => m.Stf02.TGL_KLR, new { Value = DateTime.Now.ToString("dd/MM/yyyy") })
@Html.Hidden("UrlUpload")
<style>
    .foto_produk_section_blibli {
        padding: 5px;
    }

        .foto_produk_section_blibli > .box_upload_blibli {
            width: 100px;
            height: 100px;
            border: dashed 1.5px #bbb;
            border-radius: 10px;
            background-color: #f7f7f7;
            background-image: url('');
            text-align: center;
            display: table;
            margin: 0 auto;
            cursor: pointer;
        }

    .box_upload_blibli > .box_upload_placeholder {
        color: #ccc;
        font-size: 20px;
        display: table-cell;
        vertical-align: middle;
    }

    .cke_wordcount {
        margin-top: 3px;
    }
</style>
<script src="~/Scripts/ckeditor/ckeditor.js"></script>
<script type="text/javascript">
    @{
        var model_listhargajualpermarketview = Model.ListHargaJualPermarketView;
    }
    var model_listhargajualpermarketview = @Html.Raw(Json.Encode(model_listhargajualpermarketview));

    function initCKEditor() {
        //CKEDITOR.replace('editor1', {
        //    extraPlugins: 'wordcount'
        //});

        $('.make_ckeditor').each(function (i, item) {
            if ($('#cke_' + item.id).length == 0) {
                //CKEDITOR.replace(item.id, {
                //    extraPlugins: 'wordcount',
                //    wordcount: {
                //        showCharCount: true,
                //        showWordCount: false,
                //        showParagraphs: false
                //    }
                //});
                CKEDITOR.replace(item.id);
            }
        });

        var e = CKEDITOR.instances['Stf02_Deskripsi'];

        e.on('key', function (event) {
            //alert(e.getData());
            //getValueFromCKEditor();
            setTimeout(function () {
                CheckCharCount();
            }, 10);
            //document.getElementById('txtCharCount').innerHTML = "Jumlah karakter :" ;
            //$("#divCharCount").show();
        });
    }

    $(document).ready(function () {
        Initialize();
        initRequired();

        initCKEditor();

        $(function () {
            $('#setting-detail-market-tabs a:first').tab('show');
        });

        //add by calvin 28 februari 2019
        $('.btn_hapus_foto_produk_blibli').each(function (i, item) {
            var data_barang_level = $(item).attr("data-barang-level");
            var data_barang_id = $(item).attr("data-barang-id");
            //var data_barang_kode = $(item).attr("data-barang-kode");
            $('#btn_hapus_blibli_' + data_barang_level + '_' + data_barang_id).hide();
            $('#btn_hapus_blibli_' + data_barang_level + '_' + data_barang_id).off('click').on('click', function () {
                var $link = '@Html.Raw(Url.Action("DeleteFotoProdukBlibli", "Manage", new { brg = "replaceBrg", recnum = "replaceKode", urutan = "replaceUrutan" }))';
                $link = $link.replace("replaceBrg", encodeURIComponent($('#Stf02_BRG').val()));
                $link = $link.replace("replaceKode", encodeURIComponent(data_barang_id));
                $link = $link.replace("replaceUrutan", encodeURIComponent(data_barang_level));

                $.ajax({
                    url: $link,
                    type: 'GET',
                    success: function () {
                        var str = $('#hidden_url_gambar_blibli_' + data_barang_level + '_' + data_barang_id).val();
                        var n = str.lastIndexOf('/');
                        var keyNameFile = str.substring(n + 1);

                        deleteObjectByFileName(keyNameFile);

                        $('#foto_produk_blibli_' + data_barang_level + '_'+ data_barang_id).val(null);
                        $('#box_upload_blibli_' + data_barang_level + '_'+ data_barang_id).css('background-image', '');
                        $('#box_upload_blibli_' + data_barang_level + '_'+ data_barang_id + ' span').show();
                        $('#btn_hapus_blibli_' + data_barang_level + '_'+ data_barang_id).hide();
                    },
                    error: function () {
                    }
                });

                return;
            });
        });

        $('.foto_produk_blibli').each(function (i, item) {
            var validImageBlibli = ["image/jpeg"];
            var data_barang_level = $(item).attr("data-barang-level");
            var data_barang_id = $(item).attr("data-barang-id");
            $('#foto_produk_blibli_' + data_barang_level + '_' + data_barang_id).hide();
            $('#foto_produk_blibli_' + data_barang_level + '_'+ data_barang_id).off('change').on('change', function () {
                var file = this.files[0];
                var fileType = file["type"];
                if ($.inArray(fileType, validImageBlibli) < 0) {
                    alert('Hanya boleh file berformat .jpg!');
                    return;
                }
                var fileSize = file["size"];
                if (fileSize > 4000000) {
                    alert('Maximal size 4MB');
                    $('#btn_hapus_blibli_' + data_barang_level + '_' + data_barang_id).click();
                    return false;
                }
                var reader = new FileReader();
                reader.onloadend = function () {
                    $('#box_upload_blibli_' + data_barang_level + '_' + data_barang_id).css('background-image', 'url("' + reader.result + '")')
                        .css('background-size', 'cover');
                    $('#box_upload_blibli_' + data_barang_level + '_' + data_barang_id + ' span').hide();
                    $('#btn_hapus_blibli_'+ data_barang_level + '_' + data_barang_id).show();
                }
                if (file) {
                    reader.readAsDataURL(file);
                }
            });
        });

        $('.box_upload_blibli').each(function (i, item) {
            var data_barang_level = $(item).attr("data-barang-level");
            var data_barang_id = $(item).attr("data-barang-id");
            $(item).off('click').on('click', function () {
                $('#foto_produk_blibli_' + data_barang_level + '_' + data_barang_id).click();
            });
        });

        getFotoProdukBlibli();
        //end add by calvin 28 februari 2019

        //add by nurul 10/9/2019, buat preview nama barang
        $('#Stf02_NAMA').change(function () {
            $('#preview_Nama').val($('#Stf02_NAMA').val() + ' ' + $('#Stf02_NAMA2').val());
        });
        $('#Stf02_NAMA2').change(function () {
            $('#preview_Nama').val($('#Stf02_NAMA').val() + ' ' + $('#Stf02_NAMA2').val());
        });
        //end add by nurul 10/9/2019, buat preview nama barang

        //add by nurul 11/2/2020
        //remark by nurul 21/7/2020
        //$('#cbxStf02Type').on('click', function () {
        //    if ($("#cbxStf02Type").is(":checked") == true) {
        //        if ($("#Stf02_BRG").val().length > 11) {
        //            $("#Stf02_BRG").addClass('has-error');
        //            $("#Stf02_BRG").css('border', 'solid 1px #a94442');
        //            addError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.");
        //            alert('Kode barang induk lebih dari 11 karakter.');
        //            document.getElementById("Stf02_BRG").focus();
        //        } else if ($("#Stf02_BRG").val().length <= 11) {
        //            $("#Stf02_BRG").removeClass('has-error');
        //            $("#Stf02_BRG").css('border', 'solid 1px #cccccc');
        //            RemoveError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.", "span-error");
        //        }
        //    }
        //    else if ($("#cbxStf02Type").is(":checked") == false) {
        //        $("#Stf02_BRG").removeClass('has-error');
        //        $("#Stf02_BRG").css('border', 'solid 1px #cccccc');
        //        RemoveError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.", "span-error");
        //    }
        //});
        //$('#Stf02_BRG').change(function () {
        //    if ($("#cbxStf02Type").is(":checked") == true) {
        //        if ($("#Stf02_BRG").val().length <= 11) {
        //            $("#Stf02_BRG").removeClass('has-error');
        //            $("#Stf02_BRG").css('border', 'solid 1px #cccccc');
        //            RemoveError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.", "span-error");
        //        } else if ($("#Stf02_BRG").val().length > 11) {
        //            $("#Stf02_BRG").addClass('has-error');
        //            $("#Stf02_BRG").css('border', 'solid 1px #a94442');
        //            addError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.");
        //            alert('Kode barang induk lebih dari 11 karakter.');
        //            document.getElementById("Stf02_BRG").focus();
        //        }
        //    } else if ($("#cbxStf02Type").is(":checked") == false) {
        //        $("#Stf02_BRG").removeClass('has-error');
        //        $("#Stf02_BRG").css('border', 'solid 1px #cccccc');
        //        RemoveError($("#Stf02_BRG").parent().parent(), "Kode barang induk maximal 11 karakter.", "span-error");
        //    }
        //});
        //end remark by nurul 21/7/2020

        //add by nurul 28/8/2020
        //$('#cbxStf02Type').off('click').on('click', function () {
        //    if ($("#cbxStf02Type").is(":checked") == true) {
        //        $('#multi-sku').hide();
        //    } else if ($("#cbxStf02Type").is(":checked") == false) {
        //        $('#multi-sku').show();
        //    }
        //});
        //if ($("#cbxStf02Type").is(":checked") == true) {
        //    $('#multi-sku').hide();
        //} else if ($("#cbxStf02Type").is(":checked") == false) {
        //    $('#multi-sku').show();
        //}
        //end add by nurul 28/8/2020

        $('#Stf02_HJUAL').change(function () {
        if (convertToAngka($("#Stf02_HJUAL").val()) > 0) {
            RemoveError($("#Stf02_HJUAL").parent().parent(), "Harga Jual harus lebih dari 0.", "span-error");
            }
        });
        $('#Stf02_TINGGI').change(function () {
            if (convertToAngka($("#Stf02_TINGGI").val()) > 0) {
                RemoveError($("#Stf02_TINGGI").parent().parent(), "Tinggi harus lebih dari 0.", "span-error");
            }
        });
        $('#Stf02_LEBAR').change(function () {
            if (convertToAngka($("#Stf02_LEBAR").val()) > 0) {
                RemoveError($("#Stf02_LEBAR").parent().parent(), "Lebar harus lebih dari 0.", "span-error");
            }
        });
        $('#Stf02_PANJANG').change(function () {
            if (convertToAngka($("#Stf02_PANJANG").val()) > 0) {
                RemoveError($("#Stf02_PANJANG").parent().parent(), "Panjang harus lebih dari 0.", "span-error");
            }
        });
        $('#Stf02_BERAT').change(function () {
            if (convertToAngka($("#Stf02_BERAT").val()) > 0) {
                RemoveError($("#Stf02_BERAT").parent().parent(), "Berat harus lebih dari 0.", "span-error");
            }
        });
        //end add by nurul 11/2/2020

    });

    function CheckCharCount() {

        var aa = CKEDITOR.instances["Stf02_Deskripsi"].getData();
        $formData = {
            deskripsi: aa,
        }
        $.ajax({
                type: "POST",
                url: '@Url.Action("HitungCharDeskripsi", "Manage")',
                data: JSON.stringify($formData),
                processData: false,  // tell jQuery not to process the data
                contentType: "application/json; charset=UTF-8",  // tell jQuery not to set contentType
                beforeSend: function () {
                },
                success: function (response) {
                    document.getElementById('txtCharCount').innerHTML = "Jumlah karakter :" + response.Errors[0];
                    $("#divCharCount").show();
                },
                error: function (xhr, status, error) {

                    console.log(error);
                }
            });
    }

    function getFotoProdukBlibli() {
        $('.hidden_url_gambar_blibli').each(function (i, item) {
            var data_barang_level = $(item).attr("data-barang-level");
            var data_barang_id = $(item).attr("data-barang-id");
            $('#box_upload_blibli_' + data_barang_level + '_' + data_barang_id).css({
                'background-image': 'url("' + $(item).val() + '")',
                'background-size': 'cover'
            });
            $('#box_upload_blibli_' + data_barang_level + '_' + data_barang_id + ' span').hide();
            $('#btn_hapus_blibli_' + data_barang_level + '_' + data_barang_id).show();
        });
    }

    function setTokpedAsuransi(i, value) {
        if (value != null) {
            $('#ListHargaJualPermarket_' + i + '__AVALUE_35').val(value);
            //alert($('#ListHargaJualPermarket_' + i + '__AVALUE_35').val());
        }
    }

    function setCODJDID(i, value) {
        if (value != null) {
            $('#ListHargaJualPermarket_' + i + '__AVALUE_45').val(value);
        }
    }

    function setQualityJDID(i, value) {
        if (value != null) {
            $('#ListHargaJualPermarket_' + i + '__AVALUE_47').val(value);
            if (value == "0") {
                $('#quality_days_' + i).hide();
            } else {
                $('#quality_days_' + i).show();
            }
        }
    }
    
</script>
<div class="form-horizontal">
    <div class="row">
        <div class="col-md-12 col-sm-12 col-xs-12">
            <div class="" role="tabpanel" data-example-id="togglable-tabs">
                <ul id="barangTab" class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active">
                        <a href="#tab_content_induk" id="induk-tab" role="tab" data-toggle="tab" aria-expanded="true">Barang</a>
                    </li>
                    <li role="presentation" class="">
                        @*<a href="#tab_content_variant" role="tab" id="variant-induk-tab" data-toggle="tab" aria-expanded="false" class="disabled-tab">Variasi</a>*@
                        <a href="#tab_content_variant" role="tab" id="variant-induk-tab" aria-expanded="false" class="disabled-tab">Variasi</a>
                    </li>
                </ul>
                <div id="barangTabContent" class="tab-content" style="padding-top:10px">
                    <div role="tabpanel" class="tab-pane fade active in" id="tab_content_induk" aria-labelledby="induk-tab">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Detail Barang</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <br>
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.BRG, "Kode Barang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @*@Html.TextBoxFor(m => m.Stf02.BRG, new { @class = "form-control", maxlength = 11, @data_val_length_max = 11, required = "required" })*@
                                                @Html.TextBoxFor(m => m.Stf02.BRG, new { @class = "form-control", maxlength = 20, @data_val_length_max = 20, required = "required" })
                                            </div>
                                        </div>
                                        <div class="form-group not_parent_attr">
                                            @Html.LabelFor(m => m.Stf02.Ket_Sort7, "Kode Barcode", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @Html.TextBoxFor(m => m.Stf02.Ket_Sort7, new { @class = "form-control", maxlength = 40 })
                                            </div>
                                        </div>
                                        @*//CHANGE BY NURUL 10/9/2019, buat preview nama barang*@
                                        @*<div class="form-group">
                                                @Html.LabelFor(m => m.Stf02.NAMA, "Nama Barang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    @Html.TextBoxFor(m => m.Stf02.NAMA, new { @class = "form-control", maxlength = 30, required = "required" })
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <div class="col-md-3 col-sm-3 col-xs-12"></div>
                                                <div class="col-md-6 col-sm-6 col-xs-12">
                                                    @Html.TextBoxFor(m => m.Stf02.NAMA2, new { @class = "form-control", type = "text", @maxlength = 40, @data_val_length_max = 40 })
                                                </div>
                                            </div>*@
                                        <div class="form-group">
                                            <div>
                                                <div class="col-md-9 col-sm-9 col-xs-12">
                                                    <div class="form-group">
                                                        @Html.LabelFor(m => m.Stf02.NAMA, "Nama Barang *", new { @class = "control-label col-md-4 col-sm-4 col-xs-12" })
                                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                                            @Html.TextBoxFor(m => m.Stf02.NAMA, new { @class = "form-control", maxlength = 30, required = "required" })
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <div class="col-md-4 col-sm-4 col-xs-12"></div>
                                                        <div class="col-md-8 col-sm-8 col-xs-12">
                                                            @Html.TextBoxFor(m => m.Stf02.NAMA2, new { @class = "form-control", type = "text", @maxlength = 40, @data_val_length_max = 40 })
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-3 col-sm-3 col-xs-12" style="height:75px; ">
                                                    <div style="margin-top:-15px">
                                                        Preview Nama Barang :
                                                        @Html.TextArea("preview_Nama", Model?.Stf02?.NAMA + " " + Model?.Stf02?.NAMA2, new { @class = "form-control", disabled = "disabled", @style = "height:75px" })
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        @*//CHANGE BY NURUL 10/9/2019, buat preview nama barang*@
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.Sort1, "Kategori Barang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                <select id="KATEGORI" placeholder="Harap pilih" required="required"></select>
                                                @Html.HiddenFor(m => m.Stf02.Sort1)
                                                @Html.HiddenFor(m => m.Stf02.KET_SORT1)
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.Sort2, "Merk Barang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                <select id="MERK" placeholder="Harap pilih" required="required"></select>
                                                @Html.HiddenFor(m => m.Stf02.Sort2)
                                                @Html.HiddenFor(m => m.Stf02.KET_SORT2)
                                            </div>
                                        </div>
                                        @*<div class="checkbox">
                                                <label><input type="checkbox" value="" /></label>
                                            </div>*@
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.STN2, "Satuan Barang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @Html.TextBoxFor(m => m.Stf02.STN2, new { @class = "form-control", maxlength = 5, required = "required" })
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.MINI, "Stok Minimum *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                @*@Html.TextBoxFor(m => m.Stf02.MINI, new { @class = "form-control limited_number_textbox", type = "number", min = 1, required = "required", max = 999, maxlength = 3 })*@
                                                @*@Html.TextBoxFor(m => m.Stf02.MINI, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 999, maxlength = 3 })*@
                                                @*change by nurul 22/6/2021*@
                                                @Html.TextBoxFor(m => m.Stf02.MINI, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 999999, maxlength = 6 })
                                                @*end change by nurul 22/6/2021*@
                                            </div>
                                            <div class="text-left">
                                                <h5>Stok Minimum adalah quantity minimal yang harus ada di gudang.</h5>
                                            </div>
                                        </div>
                                        @*<div class="form-group">
            @Html.LabelFor(m => m.Stf02.MAXI, "Stok Maksimum *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
            <div class="col-md-2 col-sm-2 col-xs-12">
                @Html.TextBoxFor(m => m.Stf02.MAXI, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 999, maxlength = 3 })
            </div>
        </div>
        <br />
        <div class="text-left">
            <h5>Maximum Stok adalah quantity maksimal yang boleh ada di gudang.</h5>
        </div>
        <br />*@
                                        <div class="form-group not_parent_attr">
                                            @Html.LabelFor(m => m.Stf02.LKS, "Lokasi Rak", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @Html.TextBoxFor(m => m.Stf02.LKS, new { @class = "form-control", maxlength = 10 })
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.Deskripsi, "Deskripsi *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @Html.TextAreaFor(m => m.Stf02.Deskripsi, new { @class = "form-control make_ckeditor", required = "required", minlength = 30 })
                                            </div>
                                        </div>
                                        <div class="form-group" id="divCharCount" style="display:none">
                                            <div class="col-md-6 col-sm-6"></div>
                                            <div class="col-md-6 col-sm-6 col-xs-12"><span id="txtCharCount"></span></div>
                                        </div>
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.TYPE, "Barang ini memiliki Variasi", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            @Html.HiddenFor(m => m.Stf02.TYPE, new { data_cbx = $"cbx-type", @class = "cbxtype" })
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                @if ((Model.Stf02 == null ? "" : Model.Stf02.TYPE) == "4")
                                                {
                                                    //memiliki varian
                                                    <label class="checkbox-container">
                                                        <input type="checkbox" id="cbxStf02Type" class="cbxtype" name="@($"cbx-sf02-type")" onclick="hideAttrParent();" checked />
                                                        <span class="checkmark"></span>
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="checkbox-container">
                                                        <input type="checkbox" id="cbxStf02Type" class="cbxtype" name="@($"cbx-sf02-type")" onclick="validateCkVarian($('#cbxStf02Type').is(':checked')); hideAttrParent();" />
                                                        <span class="checkmark"></span>
                                                    </label>
                                                }
                                            </div>
                                        </div>
                                        @*add by nurul 19/8/2020*@
                                        <div class="form-group" id="multi-sku" hidden>
                                            @Html.LabelFor(m => m.Stf02.KUBILASI, "Barang ini merupakan barang Multi SKU", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            @Html.HiddenFor(m => m.Stf02.KUBILASI, new { data_cbx_sku = $"cbx-MultiSKU", @class = "cbxMultiSKU" })
                                            <div class="col-md-1 col-sm-1 col-xs-6">
                                                @if ((Model.Stf02 == null ? "" : Model.Stf02.KUBILASI.ToString()) == "1")
                                                {
                                                    //barang multi sku
                                                    <label class="checkbox-container">
                                                        <input type="checkbox" id="cbxStf02MultiSKU" class="cbxMultiSKU" name="@($"cbx-sf02-multiSKU")" checked onclick="validateCkMultiSKU($('#cbxStf02MultiSKU'));" />
                                                        <span class="checkmark"></span>
                                                    </label>
                                                }
                                                else
                                                {
                                                    <label class="checkbox-container">
                                                        <input type="checkbox" id="cbxStf02MultiSKU" class="cbxMultiSKU" name="@($"cbx-sf02-multiSKU")" onclick="validateCkMultiSKU($('#cbxStf02MultiSKU'));" />
                                                        <span class="checkmark"></span>
                                                    </label>
                                                }
                                            </div>
                                            <div class="col-md-5 col-sm-5 col-xs-6">
                                                @if ((Model.Stf02 == null ? "" : Model.Stf02.KUBILASI.ToString()) == "1")
                                                {
                                                    <div id="sku-acuan">
                                                        @Html.LabelFor(m => m.Stf02.BRG_NON_OS, "Kode Barang Acuan", new { @class = "control-label col-md-4 col-sm-4" })
                                                        @Html.TextBoxFor(m => m.Stf02.BRG_NON_OS, new { @readonly = "readonly", placeholder = "Pilih SKU", @style = "background-color : #eee; cursor :not-allowed; width: 200px;", @class = "form-control col-md-4 col-sm-4" })
                                                        <span class="input-group-btn">
                                                            <button id="pilih-sku" class="btn btn-default" style="margin-right:0px" type="button">
                                                                <span class="glyphicon glyphicon-option-horizontal"></span>
                                                            </button>
                                                        </span>
                                                    </div>
                                                }
                                                else
                                                {
                                                    <div id="sku-acuan" hidden="hidden">
                                                        @Html.LabelFor(m => m.Stf02.BRG_NON_OS, "Kode Barang Acuan", new { @class = "control-label col-md-4 col-sm-4" })
                                                        @Html.TextBoxFor(m => m.Stf02.BRG_NON_OS, new { @readonly = "readonly", placeholder = "Pilih Barang", @style = "background-color : #eee; cursor :not-allowed; width: 200px;", @class = "form-control col-md-4 col-sm-4" })
                                                        <span class="input-group-btn">
                                                            <button id="pilih-sku" class="btn btn-default" style="margin-right:0px" type="button">
                                                                <span class="glyphicon glyphicon-option-horizontal"></span>
                                                            </button>
                                                        </span>
                                                    </div>
                                                }
                                            </div>
                                        </div>
                                        @*end add by nurul 19/8/2020*@
                                        @*add by nurul 31/1/2019*@
                                        <br />
                                        <hr />
                                        <div class="text-left">
                                            <h5>Ketentuan panjang karakter kolom Deskripsi sebagai berikut:</h5>
                                            <h5>- Shopee min 20 max 3000</h5>
                                            <h5>- Tokopedia min 0 max 2000</h5>
                                            <h5>- Blibli min 1 max 4000</h5>
                                            <h5>- Bukalapak min 30</h5>
                                        </div>
                                        @*end add by nurul 31/1/2019*@
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel" id="upload-foto-section">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Foto Produk</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link" id="collapse-link-upload-foto-section"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <div class="row">
                                            <div class="col-md-4 foto_produk_section">
                                                <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk" id="btn_hapus_1">Hapus</button>
                                                <div class="box_upload" id="box_upload_1">
                                                    <span class="box_upload_placeholder">Tambah Gambar</span>
                                                    <input type='file' id='foto_produk_1' name="foto_produk_1" accept=".jpg" />
                                                    <input type="hidden" id="hidden_url_gambar_1" value="@(Model.Stf02?.LINK_GAMBAR_1)" />
                                                </div>
                                            </div>
                                            <div class="col-md-4 foto_produk_section">
                                                <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk" id="btn_hapus_2">Hapus</button>
                                                <div class="box_upload" id="box_upload_2">
                                                    <span class="box_upload_placeholder">Tambah Gambar</span>
                                                    <input type='file' id='foto_produk_2' name="foto_produk_2" accept=".jpg" />
                                                    <input type="hidden" id="hidden_url_gambar_2" value="@(Model.Stf02?.LINK_GAMBAR_2)" />
                                                </div>
                                            </div>
                                            <div class="col-md-4 foto_produk_section">
                                                <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk" id="btn_hapus_3">Hapus</button>
                                                <div class="box_upload" id="box_upload_3">
                                                    <span class="box_upload_placeholder">Tambah Gambar</span>
                                                    <input type='file' id='foto_produk_3' name="foto_produk_3" accept=".jpg" />
                                                    <input type="hidden" id="hidden_url_gambar_3" value="@(Model.Stf02?.LINK_GAMBAR_3)" />
                                                </div>
                                            </div>
                                            <div class="col-md-4 foto_produk_section">
                                                <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk" id="btn_hapus_4">Hapus</button>
                                                <div class="box_upload" id="box_upload_4">
                                                    <span class="box_upload_placeholder">Tambah Gambar</span>
                                                    <input type='file' id='foto_produk_4' name="foto_produk_4" accept=".jpg" />
                                                    <input type="hidden" id="hidden_url_gambar_4" value="@(Model.Stf02?.LINK_GAMBAR_4)" />
                                                </div>
                                            </div>
                                            <div class="col-md-4 foto_produk_section">
                                                <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk" id="btn_hapus_5">Hapus</button>
                                                <div class="box_upload" id="box_upload_5">
                                                    <span class="box_upload_placeholder">Tambah Gambar</span>
                                                    <input type='file' id='foto_produk_5' name="foto_produk_5" accept=".jpg" />
                                                    <input type="hidden" id="hidden_url_gambar_5" value="@(Model.Stf02?.LINK_GAMBAR_5)" />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*add by nurul 13/11/2018*@
                                    <div class="x_content">
                                        @{
                                            var listMarketKet = Model.ListMarket;
                                        }
                                        @if (listMarketKet != null)
                                        {
                                            var adaBlibliCat = 0;
                                            <div id="lain-section">
                                                @*@for (var i = 0; i < listMarketKet.ToList().Count; i++)
                                                    {
                                                        var idMarket = Convert.ToInt32(listMarketKet[i].NAMA);
                                                        if (context.Marketplaces.Single(m => m.IdMarket == idMarket).NamaMarket.ToUpper().Equals("BLIBLI"))
                                                        {
                                                            adaBlibliCat = 1;
                                                        }
                                                    }
                                                    @if (adaBlibliCat == 1)
                                                    {*@
                                                <div class="text-left">
                                                    <h5>Ketentuan :</h5>
                                                    <h5>- Resolusi minimal berdimensi 1000 x 1000</h5>
                                                    <h5>- Resolusi maximal berdimensi 2000 x 2000</h5>
                                                    <h5>- Ukuran maximal 4 MB</h5>
                                                    <h5>- * Khusus Blibli background harus putih</h5>
                                                </div>
                                                @*}*@
                                            </div>
                                        }
                                    </div>
                                    @*end add by nurul 13/11/2018*@
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <h2>Marketplace</h2>
                                <div class="x_panel" id="info-penjualan-section">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Info Penjualan</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <div class="row">
                                            <div class="form-group">
                                                @Html.LabelFor(m => m.Stf02.BERAT, "Berat *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                                <div class="col-md-4 col-sm-4 col-xs-6">
                                                    @*@Html.TextBoxFor(m => m.Stf02.BERAT, new { @class = "form-control limited_number_textbox", type = "number", min = 1, required = "required", max = 99999999, maxlength = 8 })*@
                                                    @Html.TextBoxFor(m => m.Stf02.BERAT, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 99999999, maxlength = 8 })
                                                </div>
                                                <label class="control-label satuan col-md-5 col-sm-6">GR</label>
                                            </div>
                                            <div class="form-group">
                                                @Html.LabelFor(m => m.Stf02.PANJANG, "Panjang *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                                <div class="col-md-4 col-sm-4 col-xs-6">
                                                    @*@Html.TextBoxFor(m => m.Stf02.PANJANG, new { @class = "form-control limited_number_textbox", type = "number", min = 1, required = "required", max = 99999999, maxlength = 8 })*@
                                                    @Html.TextBoxFor(m => m.Stf02.PANJANG, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 99999999, maxlength = 8 })
                                                </div>
                                                <label class="control-label satuan col-md-5 col-sm-6">CM</label>
                                            </div>
                                            <div class="form-group">
                                                @Html.LabelFor(m => m.Stf02.LEBAR, "Lebar *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                                <div class="col-md-4 col-sm-4 col-xs-6">
                                                    @*@Html.TextBoxFor(m => m.Stf02.LEBAR, new { @class = "form-control limited_number_textbox", type = "number", min = 1, required = "required", max = 99999999, maxlength = 8 })*@
                                                    @Html.TextBoxFor(m => m.Stf02.LEBAR, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 99999999, maxlength = 8 })
                                                </div>
                                                <label class="control-label satuan col-md-5 col-sm-6">CM</label>
                                            </div>
                                            <div class="form-group">
                                                @Html.LabelFor(m => m.Stf02.TINGGI, "Tinggi *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                                <div class="col-md-4 col-sm-4 col-xs-6">
                                                    @*@Html.TextBoxFor(m => m.Stf02.TINGGI, new { @class = "form-control limited_number_textbox", type = "number", min = 1, required = "required", max = 99999999, maxlength = 8 })*@
                                                    @Html.TextBoxFor(m => m.Stf02.TINGGI, new { @class = "form-control limited_number_textbox num-only", min = 1, required = "required", max = 99999999, maxlength = 8 })
                                                </div>
                                                <label class="control-label satuan col-md-5 col-sm-6">CM</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel" id="harga-section">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Harga</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.Stf02.HJUAL, "Harga Jual *", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                                            <div class="col-md-4 col-sm-4 col-xs-12">
                                                @*//change by nurul 19/10/2020*@
                                                @*@(Model?.Stf02 != null ? Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", @style = "text-align:right", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model.Stf02.HJUAL), required = "required", maxlength = "12" }) : Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", Value = "0,00", required = "required", maxlength = "12", @style = "text-align:right" }))*@
                                                @if (Model.Bundling == "" || Model.Bundling == null)
                                                {
                                                    @(Model?.Stf02 != null ? Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", @style = "text-align:right", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model.Stf02.HJUAL), required = "required", maxlength = "12" }) : Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", Value = "0,00", required = "required", maxlength = "12", @style = "text-align:right" }))
                                                }
                                                else
                                                {
                                                    @*<div data-tip="Harga hanya bisa diubah melalui form Bundling">*@
                                                    <div data-tip="Barang ini termasuk barang bundling. Perubahan harga jual dilakukan dari menu barang bundling.">
                                                        @(Model?.Stf02 != null ? Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", @style = "text-align:right", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model.Stf02.HJUAL), required = "required", maxlength = "12", @readonly = "readonly" }) : Html.TextBoxFor(m => m.Stf02.HJUAL, new { @class = "form-control", Value = "0,00", required = "required", maxlength = "12", @style = "text-align:right", @readonly = "readonly" }))
                                                    </div>
                                                }
                                                @*//change by nurul 19/10/2020*@
                                            </div>
                                        </div>
                                        @{
                                            var listMarket = Model.ListMarket;
                                        }
                                        @if (listMarket != null)
                                        {
                                            <hr />
                                            <div class="form-group" style="border-bottom-style:outset ; border-top-style:solid">
                                                @Html.Label("Akun Marketplace", new { @class = "control-label col-md-3 col-sm-3 col-xs-12", @style = "border-right-style:outset" })
                                                @Html.Label("Harga Per Marketplace", new { @class = "control-label col-md-4 col-sm-4 col-xs-12", @style = "text-align:left ; border-right-style:outset" })
                                                @Html.Label("Tampilkan", new { @class = "control-label col-md-1 col-sm-1 col-xs-12", @style = "text-align:left ; border-right-style:outset" })
                                                @Html.Label("Status Update ke Marketplace", new { @class = "control-label col-md-3 col-sm-3 col-xs-12", @style = "text-align:left" })
                                            </div>
                                            @*<hr />*@
                                            <div class="row">
                                                <div class="col-md-12" id="div_info_harga_variant" style="margin: auto;display: flex;flex-direction: row;justify-content: center;">
                                                    Harga ini akan menjadi default untuk seluruh Marketplace dan Variasi, anda dapat mengubah harga per variasi di Tab Variasi
                                                </div>
                                            </div>
                                            <div id="hjualmarket-section">
                                                @{
                                                    var context_Marketplaces = context.Marketplaces.ToList();
                                                }
                                                @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                {
                                                    var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                    var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].USERNAME, new { Value = username })
                                                    <div class="form-group">
                                                        @if (Model.ListHargaJualPermarketView.Count > 0)
                                                        {
                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].RecNum, new { Value = Model.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.RecNum })
                                                        }
                                                        else
                                                        {
                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].RecNum)
                                                        }
                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].BRG, new { Value = "xxx" })
                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].IDMARKET, new { Value = listMarket[i].RecNum })
                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AKUNMARKET, new { Value = listMarket[i].PERSO })
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12" style="font-size: 11px;">
                                                            @if (idMarket == 16)
                                                            {@($"Harga Promosi ")}@context_Marketplaces.Single(m => m.IdMarket == idMarket).NamaMarket @($"({listMarket[i].PERSO})")
                                                        </label>
                                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                                            @if (Model.ListHargaJualPermarketView.Count > 0)
                                                            {
                                                                if (idMarket == 16)
                                                                {
                                                                    @*//change by nurul 19/10/2020*@
                                                                    @*<div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right" })
                                                                        </div>*@
                                                                    if (Model.Bundling == "" || Model.Bundling == null)
                                                                    {
                                                                        <div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right" })
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli. Barang ini termasuk barang bundling. Perubahan harga jual dilakukan dari menu barang bundling.">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right", @readonly = "readonly" })
                                                                        </div>
                                                                    }
                                                                    @*//end change by nurul 19/10/2020*@
                                                                }
                                                                else
                                                                {
                                                                    @*//change by nurul 19/10/2020*@
                                                                    @*@Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right" })*@
                                                                    if (Model.Bundling == "" || Model.Bundling == null)
                                                                    {
                                                                        @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right" })
                                                                    }
                                                                    else
                                                                    {
                                                                        <div data-tip="Barang ini termasuk barang bundling. Perubahan harga jual dilakukan dari menu barang bundling.">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.HJUAL ?? 0), @style = "text-align:right", @readonly = "readonly" })
                                                                        </div>
                                                                    }
                                                                    @*//end change by nurul 19/10/2020*@
                                                                }
                                                            }
                                                            else
                                                            {
                                                                if (idMarket == 16)
                                                                {
                                                                    @*//change by nurul 19/10/2020*@
                                                                    @*<div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right" })
                                                                        </div>*@
                                                                    if (Model.Bundling == "" || Model.Bundling == null)
                                                                    {
                                                                        <div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right" })
                                                                        </div>
                                                                    }
                                                                    else
                                                                    {
                                                                        <div data-tip="[Harga Jual *] di bagian atas akan menjadi Harga Normal untuk Blibli. Barang ini termasuk barang bundling. Perubahan harga jual dilakukan dari menu barang bundling.">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right", @readonly = "readonly" })
                                                                        </div>
                                                                    }
                                                                    @*//end change by nurul 19/10/2020*@
                                                                }
                                                                else
                                                                {
                                                                    @*//change by nurul 19/10/2020*@
                                                                    @*@Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right" })*@
                                                                    if (Model.Bundling == "" || Model.Bundling == null)
                                                                    {
                                                                        @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right" })
                                                                    }
                                                                    else
                                                                    {
                                                                        <div data-tip="Barang ini termasuk barang bundling. Perubahan harga jual dilakukan dari menu barang bundling.">
                                                                            @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].HJUAL, new { data_jenis = "hjual", @class = "form-control", @onblur = "ConvertToAngkaRupiah(this);", Value = String.Format(CultureInfo.CreateSpecificCulture("id-id"), "{0:N}", 0), @style = "text-align:right", @readonly = "readonly" })
                                                                        </div>
                                                                    }
                                                                    @*//end change by nurul 19/10/2020*@
                                                                }
                                                            }
                                                        </div>
                                                        <div class="col-md-1 col-sm-1 col-xs-12" style="text-align:center">
                                                            @if (Model.ListHargaJualPermarketView.Count > 0 && Model?.Stf02?.ID != null)
                                                            {
                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].DISPLAY, new { data_ar_recnum = recnumArf01, data_cbx = $"cbx-{i}", @class = "cbxTarget", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.DISPLAY ?? false })
                                                                <label class="checkbox-container">
                                                                    <input type="checkbox" class="cbx" name="@($"cbx-{i}")" @(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.DISPLAY == true ? "checked" : null) />
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                            else
                                                            {
                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].DISPLAY, new { data_ar_recnum = recnumArf01, data_cbx = $"cbx-{i}", @class = "cbxTarget", Value = false })
                                                                <label class="checkbox-container">
                                                                    <input type="checkbox" class="cbx" data-ar-recnum="@recnumArf01" name="@($"cbx-{i}")" ) />
                                                                    <span class="checkmark"></span>
                                                                </label>
                                                            }
                                                        </div>
                                                        <div class="col-md-3 col-sm-3 col-xs-12">
                                                            @if (Model.ListHargaJualPermarketView.Count > 0 && Model?.Stf02?.ID != null)
                                                            {
                                                                var getLatestLog = Model.ListHargaJualPermarketView.Where(p => p.IDMARKET == recnumArf01 && Convert.ToString(p.BRG) == (Model.Stf02 != null ? Model.Stf02.BRG : "")).FirstOrDefault();
                                                                if (getLatestLog == null)
                                                                {
                                                                    @Html.TextBox("statusLog", "", new { @class = "form-control", disabled = "disabled" })
                                                                }
                                                                else
                                                                {
                                                                    if (!string.IsNullOrEmpty(getLatestLog.LINK_ERROR))
                                                                    {
                                                                        var data_tip = getLatestLog.LINK_ERROR.Split(';');
                                                                        var msg_tip = "";
                                                                        if (data_tip.Count() >= 4)
                                                                        {
                                                                            //jobid;request_action;request_result;request_exception
                                                                            msg_tip = data_tip[3];
                                                                            if (string.IsNullOrWhiteSpace(data_tip[3]))
                                                                            {
                                                                                msg_tip = data_tip[2];
                                                                            }
                                                                            <div data-tip="@msg_tip">
                                                                                @Html.TextBox("statusLog", data_tip[1] + " : " + getLatestLog.LINK_STATUS, new { @class = "form-control", disabled = "disabled" })
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.TextBox("statusLog", "", new { @class = "form-control", disabled = "disabled" })
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        @Html.TextBox("statusLog", "", new { @class = "form-control", disabled = "disabled" })
                                                                    }

                                                                }
                                                            }
                                                            else
                                                            {
                                                                @Html.TextBox("statusLog", "", new { @class = "form-control", disabled = "disabled" })
                                                            }
                                                        </div>
                                                    </div>
                                                }
                                            </div>
                                        }
                                        @if (listMarket?.Count == 0)
                                        {
                                            <div class="text-center">
                                                <h4>Harga jual per-marketplace belum ada karena</h4>
                                                <h4>Anda belum mengatur marketplace manapun di menu Master > Marketplace</h4>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel" id="laintitle-section">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Setting Detail Per Marketplace</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        @if (listMarket != null)
                                        {
                                            var adaElevenia = 0;
                                            var adaBlibli = 0;
                                            var adaBukalapak = 0;
                                            var adaLazada = 0;
                                            var adaShopee = 0;
                                            var adaTokped = 0;
                                            var adaActive = 0;
                                            var adaJD = 0;
                                            //add by fauzi
                                            var ada82Cart = 0;
                                            //end

                                            <div id="lain-section">
                                                <ul id="setting-detail-market-tabs" class="nav nav-tabs">
                                                    @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                    {
                                                        var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                        if (idMarket == 9)
                                                        {
                                                            adaElevenia = 1;
                                                        }
                                                        else if (idMarket == 16)
                                                        {
                                                            adaBlibli = 1;
                                                        }
                                                        else if (idMarket == 8)
                                                        {
                                                            adaBukalapak = 1;
                                                        }
                                                        else if (idMarket == 7)
                                                        {
                                                            adaLazada = 1;
                                                        }
                                                        else if (idMarket == 17)
                                                        {
                                                            adaShopee = 1;
                                                        }
                                                        else if (idMarket == 15)
                                                        {
                                                            adaTokped = 1;
                                                        }
                                                        else if (idMarket == 19)
                                                        {
                                                            adaJD = 1;
                                                        }
                                                        else if (idMarket == 20)
                                                        {
                                                            ada82Cart = 1;
                                                        }
                                                    }
                                                    @if (adaShopee == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="shopee_detail_tab_focus" href="#shopee_detail_tab">Shopee</a></li>
                                                    }
                                                    @if (adaTokped == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="tokped_detail_tab_focus" href="#tokped_detail_tab">Tokopedia</a></li>
                                                    }
                                                    @if (adaLazada == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="lazada_detail_tab_focus" href="#lazada_detail_tab">Lazada</a></li>
                                                    }
                                                    @if (adaBlibli == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="blibli_detail_tab_focus" href="#blibli_detail_tab">Blibli</a></li>
                                                    }
                                                    @if (adaElevenia == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="elevenia_detail_tab_focus" href="#elevenia_detail_tab">Elevenia</a></li>
                                                    }
                                                    @if (adaBukalapak == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="bukalapak_detail_tab_focus" href="#bukalapak_detail_tab">Bukalapak</a></li>
                                                    }
                                                    @if (adaJD == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="JD_detail_tab_focus" href="#JD_detail_tab">JD.ID</a></li>
                                                    }
                                                    @if (ada82Cart == 1)
                                                    {
                                                        <li><a data-toggle="tab" id="82Cart_detail_tab_focus" href="#82cart_detail_tab">82Cart</a></li>
                                                    }
                                                </ul>
                                                <div class="tab-content">
                                                    <div id="blibli_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 16)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Blibli ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (string.IsNullOrEmpty(listMarket[i].Kode))
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                            <div class="row detail_mp_blibli_gambar">
                                                                                <div class="col-md-12">
                                                                                    <div class="x_panel" id="upload-foto-section-blibli">
                                                                                        <div class="x_title">
                                                                                            <h2 style="font-size: 16px">Foto Produk</h2>
                                                                                            <ul class="nav navbar-right panel_toolbox">
                                                                                                <li>
                                                                                                    <a class="collapse-link" id="collapse-link-upload-foto-section"><i class="fa fa-chevron-up"></i></a>
                                                                                                </li>
                                                                                            </ul>
                                                                                            <div class="clearfix"></div>
                                                                                        </div>
                                                                                        <div class="x_content">
                                                                                            <div class="row">
                                                                                                <div class="col-md-2 foto_produk_section_blibli">
                                                                                                    <div class="box_upload_blibli" data-barang-level="1" data-barang-id="@recnumArf01" id="box_upload_blibli_1_@recnumArf01">
                                                                                                        <span class="box_upload_placeholder">Tambah Gambar</span>
                                                                                                        <input type='file' id='foto_produk_blibli_1_@recnumArf01' data-barang-level="1" data-barang-id="@recnumArf01" class="foto_produk_blibli" accept=".jpg" />
                                                                                                        <input type="hidden" id="hidden_url_gambar_blibli_1_@recnumArf01" data-barang-level="1" data-barang-id="@recnumArf01" class="hidden_url_gambar_blibli" value="@(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_50)" />
                                                                                                    </div>
                                                                                                    <div style="width:100%;text-align:center">
                                                                                                        <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk_blibli" data-barang-level="1" data-barang-id="@recnumArf01" id="btn_hapus_blibli_1_@recnumArf01">Hapus</button>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-md-2 foto_produk_section_blibli">
                                                                                                    <div class="box_upload_blibli" data-barang-level="2" data-barang-id="@recnumArf01" id="box_upload_blibli_2_@recnumArf01">
                                                                                                        <span class="box_upload_placeholder">Tambah Gambar</span>
                                                                                                        <input type='file' id='foto_produk_blibli_2_@recnumArf01' data-barang-level="2" data-barang-id="@recnumArf01" class="foto_produk_blibli" accept=".jpg" />
                                                                                                        <input type="hidden" id="hidden_url_gambar_blibli_2_@recnumArf01" data-barang-level="2" data-barang-id="@recnumArf01" class="hidden_url_gambar_blibli" value="@(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_49)" />
                                                                                                    </div>
                                                                                                    <div style="width:100%;text-align:center">
                                                                                                        <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk_blibli" data-barang-level="2" data-barang-id="@recnumArf01" id="btn_hapus_blibli_2_@recnumArf01">Hapus</button>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-md-2 foto_produk_section_blibli">
                                                                                                    <div class="box_upload_blibli" data-barang-level="3" data-barang-id="@recnumArf01" id="box_upload_blibli_3_@recnumArf01">
                                                                                                        <span class="box_upload_placeholder">Tambah Gambar</span>
                                                                                                        <input type='file' id='foto_produk_blibli_3_@recnumArf01' data-barang-level="3" data-barang-id="@recnumArf01" class="foto_produk_blibli" accept=".jpg" />
                                                                                                        <input type="hidden" id="hidden_url_gambar_blibli_3_@recnumArf01" data-barang-level="3" data-barang-id="@recnumArf01" class="hidden_url_gambar_blibli" value="@(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_48)" />
                                                                                                    </div>
                                                                                                    <div style="width:100%;text-align:center">
                                                                                                        <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk_blibli" data-barang-level="3" data-barang-id="@recnumArf01" id="btn_hapus_blibli_3_@recnumArf01">Hapus</button>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-md-2 foto_produk_section_blibli">
                                                                                                    <div class="box_upload_blibli" data-barang-level="4" data-barang-id="@recnumArf01" id="box_upload_blibli_4_@recnumArf01">
                                                                                                        <span class="box_upload_placeholder">Tambah Gambar</span>
                                                                                                        <input type='file' id='foto_produk_blibli_4_@recnumArf01' data-barang-level="4" data-barang-id="@recnumArf01" class="foto_produk_blibli" accept=".jpg" />
                                                                                                        <input type="hidden" id="hidden_url_gambar_blibli_4_@recnumArf01" data-barang-level="4" data-barang-id="@recnumArf01" class="hidden_url_gambar_blibli" value="@(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.LINK_GAMBAR_4)" />
                                                                                                    </div>
                                                                                                    <div style="width:100%;text-align:center">
                                                                                                        <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk_blibli" data-barang-level="4" data-barang-id="@recnumArf01" id="btn_hapus_blibli_4_@recnumArf01">Hapus</button>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="col-md-2 foto_produk_section_blibli">
                                                                                                    <div class="box_upload_blibli" data-barang-level="5" data-barang-id="@recnumArf01" id="box_upload_blibli_5_@recnumArf01">
                                                                                                        <span class="box_upload_placeholder">Tambah Gambar</span>
                                                                                                        <input type='file' id='foto_produk_blibli_5_@recnumArf01' data-barang-level="5" data-barang-id="@recnumArf01" class="foto_produk_blibli" accept=".jpg" />
                                                                                                        <input type="hidden" id="hidden_url_gambar_blibli_5_@recnumArf01" data-barang-level="5" data-barang-id="@recnumArf01" class="hidden_url_gambar_blibli" value="@(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.LINK_GAMBAR_5)" />
                                                                                                    </div>
                                                                                                    <div style="width:100%;text-align:center">
                                                                                                        <button type="button" class="btn btn-danger btn-small btn_hapus_foto_produk_blibli" data-barang-level="5" data-barang-id="@recnumArf01" id="btn_hapus_blibli_5_@recnumArf01">Hapus</button>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="x_content">
                                                                                            <div id="lain-section">
                                                                                                <div class="text-left">
                                                                                                    <h5>Ketentuan :</h5>
                                                                                                    <h5>- dapat dikosongkan jika memakai foto produk yang sama dengan marketplace lain.</h5>
                                                                                                    <h5>- Resolusi sebaiknya 1:1 atau mendekati 1:1, maximal 2000 x 2000.</h5>
                                                                                                    <h5>- Ukuran maximal 4 MB.</h5>
                                                                                                    <h5>- Background harus putih.</h5>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    <label>Category</label>
                                                                                </div>
                                                                                <div id="category_blibli_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_blibli_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategoryBlibli('category_blibli_pertama_' + @recnumArf01, 'category_blibli_selanjutnya_' + @recnumArf01, 'attribute_blibli_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategoryBlibli('category_blibli_pertama_' + @recnumArf01, 'category_blibli_selanjutnya_' + @recnumArf01, 'attribute_blibli_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                    <img src="~/Content/Images/spinner.gif" width="100" />
                                                                                </div>
                                                                                <div id="attribute_blibli_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-12">
                                                                                    <div class="row">
                                                                                        <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                            @Html.Label("Pickup Point *", new { @class = "control-label" })
                                                                                        </div>
                                                                                        <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].PICKUP_POINT, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.PICKUP_POINT })
                                                                                            <div class="input-group text">
                                                                                                <table>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            @Html.TextBox("PickupPoint" + i + "Blibli", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.PICKUP_POINT })
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <span class="input-group-btn">
                                                                                                                <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptPickupPointBlibli(@i,@($"(\"{listMarket[i].Sort1_Cust}\")"))">
                                                                                                                    <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                                </button>
                                                                                                            </span>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row">
                                                                                        <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                            @Html.Label("Unique Selling Point *", new { @class = "control-label" })
                                                                                        </div>
                                                                                        <div class="col-md-10 col-sm-10 col-xs-12 form-group">
                                                                                            @*<div class="input-group text">*@
                                                                                            @*@Html.TextBox("UniqueSellingPoint" + i + "Blibli", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.PICKUP_POINT })*@
                                                                                            @*@Html.TextArea("UniqueSellingPoint" + i + "Blibli", "", new { @style = "resize: none; width:max;", @class = "form-control form-group", data_valid_toggle_required = "1", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_39 })*@
                                                                                            @{
                                                                                                string idUniqueSellingPoint = "ListHargaJualPermarket_" + i + "__AVALUE_39";
                                                                                                string ValueUniqueSellingPoint = HttpUtility.HtmlDecode(Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_39);
                                                                                                string nameUniqueSellingPoint = "ListHargaJualPermarket[" + i + "].AVALUE_39";
                                                                                            }
                                                                                            <textarea cols="20" data-val="true" data-valid-toggle-required="1" required="required" data-val-required="This field is required." class="form-control make_ckeditor" id="@idUniqueSellingPoint" name="@nameUniqueSellingPoint" rows="2" style="resize: none; width:100%;">@ValueUniqueSellingPoint</textarea>
                                                                                            @*</div>*@
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="row">
                                                                                        <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                            @Html.Label("Brand *", new { @class = "control-label" })
                                                                                        </div>
                                                                                        <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_38 })
                                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                            <div class="input-group text">
                                                                                                <table>
                                                                                                    <tr>
                                                                                                        <td>
                                                                                                            @Html.TextBox("Brand" + i + "Blibli", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                                        </td>
                                                                                                        <td>
                                                                                                            <span class="input-group-btn">
                                                                                                                <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptBrandBlibli(@i,@($"(\"{listMarket[i].CUST}\")"))">
                                                                                                                    <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                                </button>
                                                                                                            </span>
                                                                                                        </td>
                                                                                                    </tr>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            }
                                                        }
                                                    </div>
                                                    <div id="elevenia_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 9)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Elevenia ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                        <div class="row">
                                                                            <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                <label>Category</label>
                                                                            </div>
                                                                            <div id="category_elevenia_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                            </div>
                                                                            <div id="category_elevenia_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                            </div>
                                                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                {
                                                                                    <button type="button" onclick="ClearCategoryElevenia('category_elevenia_pertama_' + @recnumArf01, 'category_elevenia_selanjutnya_' + @recnumArf01, 'attribute_elevenia_' + @recnumArf01, @i, true);">Undo</button>
                                                                                }
                                                                                <button type="button" onclick="ClearCategoryElevenia('category_elevenia_pertama_' + @recnumArf01, 'category_elevenia_selanjutnya_' + @recnumArf01, 'attribute_elevenia_' + @recnumArf01, @i, false);">Clear</button>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                <img src="~/Content/Images/spinner.gif" width="100" />
                                                                            </div>
                                                                            <div id="attribute_elevenia_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                            </div>
                                                                        </div>
                                                                        <div class="row" style="padding-top:10px">
                                                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                @Html.Label("Template Delivery *", new { @class = "control-label" })
                                                                            </div>
                                                                            <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].DeliveryTempElevenia, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01)?.DeliveryTempElevenia })
                                                                                <div class="input-group text">
                                                                                    <table>
                                                                                        <tr>
                                                                                            <td>
                                                                                                @Html.TextBox("DeliveryTempElevenia" + i + "Box", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.DeliveryTempElevenia })
                                                                                            </td>
                                                                                            <td>
                                                                                                <span class="input-group-btn">
                                                                                                    <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptDeliveryTempElevenia(@i,@($"({recnumArf01})"))">
                                                                                                        <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                    </button>
                                                                                                </span>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </table>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            }
                                                        }
                                                    </div>
                                                    <div id="lazada_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 7)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Lazada ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (string.IsNullOrEmpty(listMarket[i].TOKEN))
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    <label>Category</label>
                                                                                </div>
                                                                                <div id="category_lazada_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_lazada_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategoryLazada('category_lazada_pertama_' + @recnumArf01, 'category_lazada_selanjutnya_' + @recnumArf01, 'attribute_lazada_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategoryLazada('category_lazada_pertama_' + @recnumArf01, 'category_lazada_selanjutnya_' + @recnumArf01, 'attribute_lazada_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                    <img src="~/Content/Images/spinner.gif" width="100" />
                                                                                </div>
                                                                                <div id="attribute_lazada_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Brand *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_38 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBox("Brand" + i + "Lazada", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                                </td>
                                                                                                <td>
                                                                                                    <span class="input-group-btn">
                                                                                                        <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptBrandLazada(@i,@($"(\"{listMarket[i].CUST}\")"))">
                                                                                                            <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                        </button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            }
                                                        }
                                                        <div>
                                                            <h6>**Short Description harus diisi dengan minimum 30 karkater</h6>
                                                        </div>
                                                    </div>
                                                    <div id="shopee_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 17)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Shopee ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    <label>Category</label>
                                                                                </div>
                                                                                <div id="category_shopee_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_shopee_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategoryShopee('category_shopee_pertama_' + @recnumArf01, 'category_shopee_selanjutnya_' + @recnumArf01, 'attribute_shopee_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategoryShopee('category_shopee_pertama_' + @recnumArf01, 'category_shopee_selanjutnya_' + @recnumArf01, 'attribute_shopee_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                    <img src="~/Content/Images/spinner.gif" width="100" />
                                                                                </div>
                                                                                <div id="attribute_shopee_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                                </div>
                                                                            </div>
                                                                            //add 21 mei 2021 
                                                                            <div class="row">
                                                                                <div class="col-md-12">
                                                                                    <div class="row">
                                                                                        <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                            @Html.Label("Logistic", new { @class = "control-label" })
                                                                                        </div>
                                                                                        <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                            <select id="LOGISTIC_SHOPEE_@recnumArf01" class="LOGISTIC_SHOPEE" placeholder="Harap pilih"></select>
                                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_39, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_39 })
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            //end add 21 mei 2021 
                                                                        }
                                                                    </div>
                                                                 </div>
                                                            }
                                                        }
                                                    </div>
                                                    <div id="tokped_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 15)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Tokopedia ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (string.IsNullOrEmpty(listMarket[i].Sort1_Cust))
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    <label>Category</label>
                                                                                </div>
                                                                                <div id="category_tokped_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_tokped_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategoryTokped('category_tokped_pertama_' + @recnumArf01, 'category_tokped_selanjutnya_' + @recnumArf01, 'attribute_tokped_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategoryTokped('category_tokped_pertama_' + @recnumArf01, 'category_tokped_selanjutnya_' + @recnumArf01, 'attribute_tokped_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row" style="padding-top:10px">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Etalase *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].PICKUP_POINT, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01)?.PICKUP_POINT })
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBox("TOKPED_ETALASE" + i + "Box", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.PICKUP_POINT })
                                                                                                </td>
                                                                                                <td>
                                                                                                    <span class="input-group-btn">
                                                                                                        <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptEtalaseTokped(@i,@($"({recnumArf01})"))">
                                                                                                            <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                        </button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row" style="padding-top:10px">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Asuransi Pengiriman", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group" style="padding-top:10px">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_35, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01)?.AVALUE_35 })
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_35 == "1")
                                                                                    {
                                                                                        <input type="radio" id="rdoAsuransi1_@Convert.ToString(recnumArf01)" name="asuransiTokped_@Convert.ToString(recnumArf01)" value="1" checked onclick="setTokpedAsuransi('@i','1')">
                                                                                        <label for="rdoAsuransi1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoAsuransi2_@Convert.ToString(recnumArf01)" name="asuransiTokped_@Convert.ToString(recnumArf01)" value="0" onclick="setTokpedAsuransi('@i','0')">
                                                                                        <label for="rdoAsuransi2_@Convert.ToString(recnumArf01)">Opsional</label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input type="radio" id="rdoAsuransi1_@Convert.ToString(recnumArf01)" name="asuransiTokped_@Convert.ToString(recnumArf01)" value="1" onclick="setTokpedAsuransi('@i','1')">
                                                                                        <label for="rdoAsuransi1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoAsuransi2_@Convert.ToString(recnumArf01)" name="asuransiTokped_@Convert.ToString(recnumArf01)" value="0" checked onclick="setTokpedAsuransi('@i','0')">
                                                                                        <label for="rdoAsuransi2_@Convert.ToString(recnumArf01)">Opsional</label>
                                                                                    }

                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                            }
                                                        }
                                                    </div>
                                                    <div id="bukalapak_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 8)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"Bukalapak ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div>
                                                                    <h3 style="font-size: 12px">(Fitur ini masih dalam pengembangan.)</h3>
                                                                    <br />
                                                                </div>
                                                                //remark 9 feb 2021, tutup sementara
                                                                @*<div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                        @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                        <div class="row">
                                                                            <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                <label>Category</label>
                                                                            </div>
                                                                            <div id="category_bukalapak_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                            </div>
                                                                            <div id="category_bukalapak_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                            </div>
                                                                            <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                {
                                                                                    <button type="button" onclick="ClearCategoryBukalapak('category_bukalapak_pertama_' + @recnumArf01, 'category_bukalapak_selanjutnya_' + @recnumArf01, 'attribute_bukalapak_' + @recnumArf01, @i, true);">Undo</button>
                                                                                }
                                                                                <button type="button" onclick="ClearCategoryBukalapak('category_bukalapak_pertama_' + @recnumArf01, 'category_bukalapak_selanjutnya_' + @recnumArf01, 'attribute_bukalapak_' + @recnumArf01, @i, false);">Clear</button>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                <img src="~/Content/Images/spinner.gif" width="100" />
                                                                            </div>
                                                                            <div id="attribute_bukalapak_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>*@
                                                            }
                                                        }
                                                    </div>
                                                    <div id="JD_detail_tab" class="tab-pane fade in">
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 19)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"JD.ID ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                if (!string.IsNullOrEmpty(listMarket[i].KD_ANALISA) && listMarket[i].KD_ANALISA == "2")
                                                                {
                                                                    <div>
                                                                        <h3 style="font-size: 12px">(Fitur ini masih dalam pengembangan.)</h3>
                                                                        <br />
                                                                    </div>
                                                                }
                                                                else
                                                                {
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (string.IsNullOrEmpty(listMarket[i].TOKEN))
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                            @*@Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_1, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_1 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_1, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_1 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_2, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_2 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_2, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_2 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_3, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_3 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_3, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_3 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_4, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_4 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_4, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_4 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_5, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_5 })
                            @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_5, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_5 })*@
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    <label>Category *</label>
                                                                                </div>
                                                                                <div id="category_JD_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_JD_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategoryJD('category_JD_pertama_' + @recnumArf01, 'category_JD_selanjutnya_' + @recnumArf01, 'attribute_JD_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategoryJD('category_JD_pertama_' + @recnumArf01, 'category_JD_selanjutnya_' + @recnumArf01, 'attribute_JD_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                    <img src="~/Content/Images/spinner.gif" width="100" />
                                                                                </div>
                                                                                <div id="attribute_JD_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                                </div>
                                                                            </div>
                                                                            <br />
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Brand *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-5 col-sm-5 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_38 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBox("Brand" + i + "JDID", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                                </td>
                                                                                                <td>
                                                                                                    <span class="input-group-btn">
                                                                                                        <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptBrandJDID(@i,@($"(\"{listMarket[i].CUST}\")"))">
                                                                                                            <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                        </button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                                @*<div class="col-md-2 col-sm-2 col-xs-12">
                                    @Html.Label("Video Url ", new { @class = "control-label" })
                                </div>
                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                    <div class="input-group text">
                                        <table>
                                            <tr>
                                                <td>
                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_42, new { @class = "form-control", style = "width:300px", @MaxLength = "100", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_42 })
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>*@
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Promo Wording ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_43, new { @class = "form-control", style = "width:300px", id = "JDID_promowording_" + i, @MaxLength = "100", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_43 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Item Type *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-5 col-sm-5 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_39, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_39 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_39, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_39 })
                                                                                    <div id="tipebarang_JD_@Convert.ToString(recnumArf01)">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Subtitle Url ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_44, new { @class = "form-control", style = "width:300px", id = "JDID_subtitleurl_" + i, @MaxLength = "100", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_44 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("After Sale ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-5 col-sm-5 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_40, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_40 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_40, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_40 })
                                                                                    <div id="aftersale_JD_@Convert.ToString(recnumArf01)">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Place of Origin ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].ACODE_47, new { @class = "form-control", id = "JDID_placeorigin_" + i, @MaxLength = "50", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_47 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Warranty ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-5 col-sm-5 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_41, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_41 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_41, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_41 })
                                                                                    <div id="warranty_JD_@Convert.ToString(recnumArf01)">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Cash on Delivery", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group" style="padding-top:10px">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_45, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01)?.AVALUE_45 })
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_45 == "1")
                                                                                    {
                                                                                        <input type="radio" id="rdoCODJDID1_@Convert.ToString(recnumArf01)" name="CODJDID_@Convert.ToString(recnumArf01)" value="1" checked onclick="setCODJDID('@i','1')">
                                                                                        <label for="rdoCODJDID1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoCODJDID2_@Convert.ToString(recnumArf01)" name="CODJDID_@Convert.ToString(recnumArf01)" value="0" onclick="setCODJDID('@i','0')">
                                                                                        <label for="rdoCODJDID2_@Convert.ToString(recnumArf01)">Tidak</label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input type="radio" id="rdoCODJDID1_@Convert.ToString(recnumArf01)" name="CODJDID_@Convert.ToString(recnumArf01)" value="1" onclick="setCODJDID('@i','1')">
                                                                                        <label for="rdoCODJDID1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoCODJDID2_@Convert.ToString(recnumArf01)" name="CODJDID_@Convert.ToString(recnumArf01)" value="0" checked onclick="setCODJDID('@i','0')">
                                                                                        <label for="rdoCODJDID2_@Convert.ToString(recnumArf01)">Tidak</label>
                                                                                    }

                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Keywords *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-3 col-sm-3 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_46, new { @class = "form-control", id = "JDID_keywords_" + i, data_valid_toggle_required = "1", @MaxLength = "30", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_46 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Keyword 2", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-3 col-sm-3 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_48, new { @class = "form-control", id = "JDID_keywords_" + i, @MaxLength = "30", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_48 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Keyword 3", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-3 col-sm-3 col-xs-12 form-group">
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].AVALUE_49, new { @class = "form-control", id = "JDID_keywords_" + i, @MaxLength = "30", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_49 })
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @Html.Label("Quality Assurance *", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-4 col-sm-4 col-xs-12 form-group" style="padding-top:10px">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_47, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01)?.AVALUE_47 })
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_47 == "1")
                                                                                    {
                                                                                        <input type="radio" id="rdoQualityJDID1_@Convert.ToString(recnumArf01)" name="QualityJDID_@Convert.ToString(recnumArf01)" value="1" checked onclick="setQualityJDID('@i','1')">
                                                                                        <label for="rdoQualityJDID1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoQualityJDID2_@Convert.ToString(recnumArf01)" name="QualityJDID_@Convert.ToString(recnumArf01)" value="0" onclick="setQualityJDID('@i','0')">
                                                                                        <label for="rdoQualityJDID2_@Convert.ToString(recnumArf01)">Tidak</label>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input type="radio" id="rdoQualityJDID1_@Convert.ToString(recnumArf01)" name="QualityJDID_@Convert.ToString(recnumArf01)" value="1" onclick="setQualityJDID('@i','1')">
                                                                                        <label for="rdoQualityJDID1_@Convert.ToString(recnumArf01)">Ya</label>
                                                                                        <input type="radio" id="rdoQualityJDID2_@Convert.ToString(recnumArf01)" name="QualityJDID_@Convert.ToString(recnumArf01)" value="0" checked onclick="setQualityJDID('@i','0')">
                                                                                        <label for="rdoQualityJDID2_@Convert.ToString(recnumArf01)">Tidak</label>
                                                                                    }

                                                                                </div>
                                                                                <div id="quality_days_@i" style="display:none;">
                                                                                    <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                        @Html.Label("Quality Days ", new { @class = "control-label" })
                                                                                    </div>
                                                                                    <div class="col-md-4 col-sm-4 col-xs-12 form-group">
                                                                                        <div class="input-group text">
                                                                                            <table>
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        @Html.TextBoxFor(m => m.ListHargaJualPermarket[i].ANAME_47, new { @class = "form-control", @type = "number", @min = "0", id = "iquality_days_" + i, @MaxLength = "5", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_47 })
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </table>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                }
                                                            }
                                                        }
                                                    </div>
                                                    <div id="82cart_detail_tab" class="tab-pane fade in">
                                                        @*<div>
            <h2 style="font-size: 14px; align-content:center; align-items: center;">
                @($"Informasi: Mohon maaf untuk sementara waktu, Fitur Create Product dan Edit Product masih dalam perbaikan oleh pihak 82Cart.")
            </h2>
        </div>*@
                                                        @for (var i = 0; i < listMarket.ToList().Count; i++)
                                                        {
                                                            var idMarket = Convert.ToInt32(listMarket[i].NAMA);
                                                            var recnumArf01 = Convert.ToInt32(listMarket[i].RecNum);
                                                            if (idMarket == 20)
                                                            {
                                                                <div>
                                                                    <h2 style="font-size: 14px">
                                                                        @($"82Cart ({listMarket[i].PERSO})")
                                                                    </h2>
                                                                </div>
                                                                <div class="form-group">
                                                                    <div class="col-md-12 col-sm-12 col-xs-12" id="div_detail_@(recnumArf01)">
                                                                        @if (listMarket[i].STATUS_API == "0")
                                                                        {
                                                                            <label>Anda belum terintegrasi dengan akun marketplace ini.</label>
                                                                        }
                                                                        else
                                                                        {
                                                                            @*<div class="row">
                                                                                    <div id="loading_attribute_@Convert.ToString(recnumArf01)" style="display:none" class="text-center">
                                                                                        <img src="~/Content/Images/spinner.gif" width="100" />
                                                                                    </div>
                                                                                    <div id="attribute_82Cart_@Convert.ToString(recnumArf01)" class="col-md-12" style="margin-top:10px">
                                                                                    </div>
                                                                                </div>*@
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Category *", new { @class = "control-label" })
                                                                                </div>
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_CODE, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_CODE })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].CATEGORY_NAME, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.CATEGORY_NAME })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_1, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_1 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_1, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_1 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_2, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_2 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_2, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_2 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_3, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_3 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_3, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_3 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_4, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_4 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_4, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_4 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_5, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_5 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_5, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_5 })
                                                                                <div id="category_82Cart_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="category_82Cart_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                </div>
                                                                                <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.CATEGORY_CODE != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearCategory82Cart('category_82Cart_pertama_' + @recnumArf01, 'category_82Cart_selanjutnya_' + @recnumArf01, @i, true);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearCategory82Cart('category_82Cart_pertama_' + @recnumArf01, 'category_82Cart_selanjutnya_' + @recnumArf01, @i, false);">Clear</button>
                                                                                </div>
                                                                            </div>
                                                                            @*<div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Attribute *", new { @class = "control-label" })
                                                                                </div>
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_10, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_10 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_10, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_10 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ACODE_11, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ACODE_11 })
                                                                                @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_11, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_11 })
                                                                                <div id="attribute_82Cart_pertama_@Convert.ToString(recnumArf01)" class="col-md-3 col-sm-3 col-xs-12">
                                                                                </div>
                                                                                <div id="attribute_82Cart_selanjutnya_@Convert.ToString(recnumArf01)" class="col-md-6 col-sm-6 col-xs-12">
                                                                                    @Html.TextBox("Attribute" + i + "82Cart", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_11 })
                                                                                </div>
                                                                               <div class="col-md-2 col-sm-2 col-xs-12">
                                                                                    @if (Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model.Stf02 != null ? Model.Stf02.BRG : ""))?.ACODE_1 != null)
                                                                                    {
                                                                                        <button type="button" onclick="ClearAttribute82Cart('attribute_82Cart_pertama_' + @recnumArf01, 'attribute_82Cart_selanjutnya_' + @recnumArf01, @i, true, @recnumArf01);">Undo</button>
                                                                                    }
                                                                                    <button type="button" onclick="ClearAttribute82Cart('attribute_82Cart_pertama_' + @recnumArf01, 'attribute_82Cart_selanjutnya_' + @recnumArf01, @i, false, @recnumArf01);">Clear</button>
                                                                                </div>
                                                                            </div>*@
                                                                            <div class="row">
                                                                                <div class="col-md-1 col-sm-1 col-xs-12">
                                                                                    @Html.Label("Brand ", new { @class = "control-label" })
                                                                                </div>
                                                                                <div class="col-md-3 col-sm-3 col-xs-12 form-group">
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].AVALUE_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.AVALUE_38 })
                                                                                    @Html.HiddenFor(m => m.ListHargaJualPermarket[i].ANAME_38, new { Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                    <div class="input-group text">
                                                                                        <table>
                                                                                            <tr>
                                                                                                <td>
                                                                                                    @*@Html.TextBox("Brand" + i + "82Cart", "", new { @class = "form-control", data_valid_toggle_required = "1", @MaxLength = "10", disabled = "disabled", required = "required", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })*@
                                                                                                    @Html.TextBox("Brand" + i + "82Cart", "", new { @class = "form-control", data_valid_toggle_required = "0", @MaxLength = "10", disabled = "disabled", Value = Model?.ListHargaJualPermarketView.FirstOrDefault(p => p.IDMARKET == recnumArf01 && p.BRG == (Model?.Stf02 != null ? Model?.Stf02.BRG : ""))?.ANAME_38 })
                                                                                                </td>
                                                                                                <td>
                                                                                                    <span class="input-group-btn">
                                                                                                        <button class="btn btn-default" type="button" style="height: 34px;" onclick="PromptBrand82Cart(@i,@($"(\"{listMarket[i].CUST}\")"))">
                                                                                                            <span class="glyphicon glyphicon-option-horizontal"></span>
                                                                                                        </button>
                                                                                                    </span>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </table>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        }
                                                                    </div>
                                                                </div>
                                                                <br />
                                                                <br />
                                                            }
                                                        }
                                                    </div>
                                                </div>
                                            </div>
                                        }
                                        @if (listMarket?.Count == 0)
                                        {
                                            <div class="text-center">
                                                <h4>Harga jual per-marketplace belum ada karena</h4>
                                                <h4>Anda belum mengatur marketplace manapun di menu Master > Marketplace</h4>
                                            </div>
                                        }
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr />
                        @Html.HiddenFor(m => m.Username, new { Value = username })
                        <input type="button" class="btn btn-primary pull-right" id="simpan_btn" value="Simpan" onclick="simpanBarang1(this)" />
                        <input type="button" style="display:none" class="btn btn-primary pull-right" id="next_btn" value="Lanjut Ke Tab Variasi" onclick="simpanBarangInduk(this)" />
                    </div>
                    <div role="tabpanel" class="tab-pane fade in" id="tab_content_variant" aria-labelledby="variant-induk-tab">
                        <div class="row" style="padding-bottom:10px">
                            @Html.Label("labelInfoKodeBarang", "Kode Barang", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                            <div class="col-md-7 col-sm-7 col-xs-12">
                                @Html.TextBox("txtInfoKodeBarang", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <div class="row" style="padding-bottom:10px">
                            @Html.Label("labelInfoNamaBarang", "Nama Barang", new { @class = "control-label col-md-3 col-sm-3 col-xs-12" })
                            <div class="col-md-7 col-sm-7 col-xs-12">
                                @Html.TextBox("txtInfoNamaBarang", "", new { @class = "form-control", disabled = "disabled" })
                            </div>
                        </div>
                        <input id="txtNewParent" style="display:none;"/>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Setting Barang Variasi</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <div id="loading_structure_partial" class="text-center">
                                            <img src="~/Content/Images/spinner.gif" width="100" />
                                        </div>
                                        <div id="var-structure-partial">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="x_panel">
                                    <div class="x_title">
                                        <h2 style="font-size: 16px">Detail Barang Variasi</h2>
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                            </li>
                                        </ul>
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="x_content">
                                        <div id="loading_detail_variant_partial" class="text-center">
                                            <img src="~/Content/Images/spinner.gif" width="100" />
                                        </div>
                                        <div id="var-detail-variant-partial">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <hr />
                        <input type="button" style="display:none" class="btn btn-primary pull-right" id="simpan_variant_btn" value="Simpan" onclick="simpanBarangVariant(this)" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    //$("#textarea").keyup(function () {
    //    document.getElementById('txtCharCount').innerHTML = "Test tampil text";
    //    $("#divCharCount").show();
    //});
    //var e = CKEditor.instances['Stf02_Deskripsi'];

    //e.on('key', function (event) {
    //    alert(e.getData());
    //});

</script>
