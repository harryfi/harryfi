@using System.Globalization
@using PagedList.Mvc
@model MasterOnline.tempListPacking
@{
    var a = Model.CUST;
}
<div class="hscroll table-responsive tbljurnal">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr role="row">
                <th class="sorting text-center center" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 40px; max-width: 40px; align-self:flex-start"><input type="checkbox" onclick="allcheckboxpackingtokpedonclick('@Model.CUST');" class="dt-checkboxes-select-all center" id="all_checkbox_packing_tokped__@Model.CUST" style="border-left:hidden; align-self:flex-start; width:30px; height:28px;" /></th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 10%;">No. Pesanan</th>
                <th class="sorting" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 20%;">No Referensi</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 15%;">Kode Booking</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 15%;">No. Resi</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 25%;">Pembeli</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 10%;">Tipe Pesanan</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 15%;">Status Kirim</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 15%;">Status Print</th>
                <th class="sorting_asc" tabindex="0" aria-controls="datatable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Picture: activate to sort column descending" style="width: 15%;">Kurir</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var order in Model.listPacking.ToList())
            {
                var status_kirim = "Dalam Proses";
                var st_print = "";

                switch (order.status_kirim)
                {
                    case "0":
                        status_kirim = "Dalam Proses";
                        break;
                    case "1":
                        status_kirim = "Gagal Proses";
                        break;
                    case "2":
                        status_kirim = "Siap Kirim";
                        break;
                    case "5":
                        status_kirim = "Batal";
                        break;
                    default:
                        status_kirim = "";
                        break;
                }
                switch (order.status_print)
                {
                    case "1":
                        st_print = "Sudah";
                        break;
                    default:
                        st_print = "Belum";
                        break;
                }
                //add by Tri 17 feb 2021
                var tipe_pesanan = "";
                if (order.TIPE_KIRIM.Value == 1)
                {
                    tipe_pesanan = "COD";
                }
                else if (order.TIPE_KIRIM.Value == 2)
                {
                    tipe_pesanan = "Preorder";
                }
                if (order.N_UCAPAN != "" && order.N_UCAPAN != "-" && order.N_UCAPAN != " ")
                {
                    if (tipe_pesanan != "")
                    {
                        tipe_pesanan += " " + order.N_UCAPAN;
                    }
                    else
                    {
                        tipe_pesanan = order.N_UCAPAN;
                    }
                }
                //end add by Tri 17 feb 2021
                <tr>
                    <td style="text-align:center">
                        @if (order.status_kirim == "5")
                        {
                            <input type="checkbox" class="dt-checkboxes center" style="align-self:flex-start; width:30px; height:28px;" disabled="disabled" />
                        }
                        else
                        {
                            <input type="checkbox" class="dt-checkboxes center checkbox_packing_tokped" data-cust="@order.CUST" data-recnum="@order.so_recnum" data-bukti="@order.no_bukti" style="align-self:flex-start; width:30px; height:28px;" />
                        }
                    </td>
                    <td>@order.no_bukti</td>
                    <td>@order.no_referensi</td>
                    <td>@order.no_job</td>
                    <td>@order.tracking_no</td>
                    <td>@order.nama_pemesan</td>
                    <td>@tipe_pesanan</td>
                    <td>@status_kirim</td>
                    <td>@st_print</td>
                    <td>@order.kurir</td>
                </tr>
            }
        </tbody>
    </table>
</div>

